<!DOCTYPE html>
<html lang="en" >

<head>
    <meta charset="UTF-8"><meta http-equiv="Content-Security-Policy"
content="default-src 'self';font-src 'self' data:;img-src 'self' https://* data:;media-src 'self';style-src 'self';frame-src player.vimeo.com https://www.youtube-nocookie.com;connect-src 'self';script-src 'self' 'self'">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="base" content="https://synex.space/">

    
    <title>
~/Syn3x • Lua基础语法学习</title>

    
    
    

    
    

    
    
    
        
            <link rel="stylesheet" href="https://synex.space/custom_subset.css?h=0b9535a28bc3d5bf2321">
        
    

    
        <link rel="stylesheet" href="https://synex.space/main.css?h=045c365e19a4d50a64bb" />
        <link rel="stylesheet" href="https://synex.space/skins/mint.css?h=504215cf6bc10586b487" />

    <meta name="color-scheme" content="light dark" />
        <meta name="description" content="" />
        <meta property="og:description" content="" />

    

    <meta property="og:title" content="Lua基础语法学习" />
    <meta property="og:type" content="article" />

    
<meta property="og:locale" content="en_GB" />

    <meta property="og:url" content="https:&#x2F;&#x2F;synex.space&#x2F;blog&#x2F;luaji-chu-yu-fa-xue-xi&#x2F;" /><meta property="og:site_name" content="~&#x2F;Syn3x">
        <noscript><link rel="stylesheet" href="https://synex.space/no_js.css"/></noscript>
        <script type="text/javascript" src="https://synex.space/js/initializeTheme.min.js"></script>
        <script defer src="https://synex.space/js/themeSwitcher.min.js"></script>
        <script defer src="https://synex.space/js/searchElasticlunr.min.js?h=3626c0ef99daa745b31e"></script>

        
    
</head>


<body>
    <a href="#main-content" id="skip-link">Skip to content</a>
    <header>
    <nav class="navbar">
        <div class="nav-title">
            <a class="home-title" href="https://synex.space/">~&#x2F;Syn3x</a>
        </div>
            <div class="nav-navs">
                <ul>
                        
                            <li>
                                <a class="nav-links no-hover-padding" href="https://synex.space/blog/">blog
                                </a>
                            </li>
                        
                            <li>
                                <a class="nav-links no-hover-padding" href="https://synex.space/archive/">archive
                                </a>
                            </li>
                        
                            <li>
                                <a class="nav-links no-hover-padding" href="https://synex.space/tags/">tags
                                </a>
                            </li>
                        
                            <li>
                                <a class="nav-links no-hover-padding" href="https://synex.space/friends/">friends
                                </a>
                            </li>
                        <li class="menu-icons-container">
                        <ul class="menu-icons-group">
                            <li class="js menu-icon">
                                <div role="button" tabindex="0" id="search-button" class="search-icon interactive-icon" title="Click or press $SHORTCUT to open search" aria-label="Click or press $SHORTCUT to open search">
                                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 -960 960 960">
                                        <path d="M784-120 532-372q-30 24-69 38t-83 14q-109 0-184.5-75.5T120-580q0-109 75.5-184.5T380-840q109 0 184.5 75.5T640-580q0 44-14 83t-38 69l252 252-56 56ZM380-400q75 0 127.5-52.5T560-580q0-75-52.5-127.5T380-760q-75 0-127.5 52.5T200-580q0 75 52.5 127.5T380-400Z"/>
                                    </svg>
                                </div>
                            </li>

                            
                            

                            <li class="theme-switcher-wrapper js"><div
        title="Toggle dark&#x2F;light mode"
        class="theme-switcher"
        tabindex="0"
        role="button"
        aria-label="Toggle dark mode"
        aria-pressed="false">
    </div><div
        title="Reset mode to default"
        class="theme-resetter arrow"
        tabindex="0"
        role="button"
        aria-hidden="true"
        aria-label="Reset mode to default">
    </div>

</li>
</ul>
                    </li>
                </ul>
            </div>
        
    </nav>
</header>

    <div class="content" id="main-content">

        
        





<main>
    <article class="h-entry">
        <h1 class="p-name article-title">
            Lua基础语法学习
        </h1>
        <a class="u-url u-uid" href="https://synex.space/blog/luaji-chu-yu-fa-xue-xi/"></a>

        <ul class="meta"><span class="hidden p-author h-card">
<a rel="author" href="https:&#x2F;&#x2F;synex.space&#x2F;" class="u-url " title=""></a>
</span>
<li><time class="dt-published" datetime="2024-04-17T16:01:00">17th Apr 2024</time></li><li title="1491 words"><span class='separator' aria-hidden='true'>•</span>8 min read</li><li class="tag"><span class='separator' aria-hidden='true'>•</span>Tags:&nbsp;</li><li class="tag"><a class="p-category" href="https://synex.space/tags/lua/">lua</a></li>
        </ul><section class="e-content body"><h1 id="lua">Lua</h1>
<h2 id="gai-nian">概念</h2>
<p>Lua是一种轻量、小巧的脚本语言，用标准的C语言编写并以源代码形式开发。设计目的是为了嵌入其他的程序中，从而为应用程序提供灵活的扩展和定制功能。</p>
<h2 id="te-xing">特性</h2>
<p>和他语言相比，Lua有其自身的特点：
（1）轻量级</p>
<pre data-lang="text" class="language-text z-code"><code class="language-text" data-lang="text"><span class="z-text z-plain">lua用标准C语言编写并以源代码形式开发，编译后仅仅一百余千字节，可以很方便的嵌入道其他程序中。
</span></code></pre>
<p>（2）可扩展</p>
<pre data-lang="text" class="language-text z-code"><code class="language-text" data-lang="text"><span class="z-text z-plain">lua提供非常丰富易于使用的扩展接口和机制，由宿主语言(通常是C或C++)提供功能，lua可以使用它们，就像内置的功能一样。
</span></code></pre>
<p>（3）支持面向过程编程和函数式编程</p>
<h2 id="ying-yong-chang-jing">应用场景</h2>
<p>游戏开发、独立应用脚本、web应用脚本、扩展和数据库插件、系统安全上。</p>
<h2 id="an-zhuang">安装</h2>
<p>官网: https://www.lua.org/</p>
<pre data-lang="bash" class="language-bash z-code"><code class="language-bash" data-lang="bash"><span class="z-source z-shell z-bash"><span class="z-meta z-function-call z-shell"><span class="z-variable z-function z-shell">[root@work</span></span><span class="z-meta z-function-call z-arguments z-shell"> env]# wget https://www.lua.org/ftp/lua-5.4.6.tar.gz</span>
</span><span class="z-source z-shell z-bash"><span class="z-meta z-function-call z-shell"><span class="z-variable z-function z-shell">[root@work</span></span><span class="z-meta z-function-call z-arguments z-shell"> env]# tar xvf lua-5.4.6.tar.gz </span>
</span><span class="z-source z-shell z-bash"><span class="z-meta z-function-call z-shell"><span class="z-variable z-function z-shell">[root@work</span></span><span class="z-meta z-function-call z-arguments z-shell"> lua-5.4.6]# make linux test</span>
</span><span class="z-source z-shell z-bash"><span class="z-meta z-function-call z-shell"><span class="z-variable z-function z-shell">[root@work</span></span><span class="z-meta z-function-call z-arguments z-shell"> lua-5.4.6]# make install</span>
</span><span class="z-source z-shell z-bash"><span class="z-meta z-function-call z-shell"><span class="z-support z-function z-cd z-shell">cd</span></span><span class="z-meta z-function-call z-arguments z-shell"> src</span> <span class="z-keyword z-operator z-logical z-and z-shell">&amp;&amp;</span> <span class="z-meta z-function-call z-shell"><span class="z-variable z-function z-shell">mkdir</span></span><span class="z-meta z-function-call z-arguments z-shell"><span class="z-variable z-parameter z-option z-shell"><span class="z-punctuation z-definition z-parameter z-shell"> -</span>p</span> /usr/local/bin /usr/local/include /usr/local/lib /usr/local/man/man1 /usr/local/share/lua/5.4 /usr/local/lib/lua/5.4</span>
</span><span class="z-source z-shell z-bash"><span class="z-meta z-function-call z-shell"><span class="z-support z-function z-cd z-shell">cd</span></span><span class="z-meta z-function-call z-arguments z-shell"> src</span> <span class="z-keyword z-operator z-logical z-and z-shell">&amp;&amp;</span> <span class="z-meta z-function-call z-shell"><span class="z-variable z-function z-shell">install</span></span><span class="z-meta z-function-call z-arguments z-shell"><span class="z-variable z-parameter z-option z-shell"><span class="z-punctuation z-definition z-parameter z-shell"> -</span>p</span><span class="z-variable z-parameter z-option z-shell"><span class="z-punctuation z-definition z-parameter z-shell"> -</span>m</span> 0755 lua luac /usr/local/bin</span>
</span><span class="z-source z-shell z-bash"><span class="z-meta z-function-call z-shell"><span class="z-support z-function z-cd z-shell">cd</span></span><span class="z-meta z-function-call z-arguments z-shell"> src</span> <span class="z-keyword z-operator z-logical z-and z-shell">&amp;&amp;</span> <span class="z-meta z-function-call z-shell"><span class="z-variable z-function z-shell">install</span></span><span class="z-meta z-function-call z-arguments z-shell"><span class="z-variable z-parameter z-option z-shell"><span class="z-punctuation z-definition z-parameter z-shell"> -</span>p</span><span class="z-variable z-parameter z-option z-shell"><span class="z-punctuation z-definition z-parameter z-shell"> -</span>m</span> 0644 lua.h luaconf.h lualib.h lauxlib.h lua.hpp /usr/local/include</span>
</span><span class="z-source z-shell z-bash"><span class="z-meta z-function-call z-shell"><span class="z-support z-function z-cd z-shell">cd</span></span><span class="z-meta z-function-call z-arguments z-shell"> src</span> <span class="z-keyword z-operator z-logical z-and z-shell">&amp;&amp;</span> <span class="z-meta z-function-call z-shell"><span class="z-variable z-function z-shell">install</span></span><span class="z-meta z-function-call z-arguments z-shell"><span class="z-variable z-parameter z-option z-shell"><span class="z-punctuation z-definition z-parameter z-shell"> -</span>p</span><span class="z-variable z-parameter z-option z-shell"><span class="z-punctuation z-definition z-parameter z-shell"> -</span>m</span> 0644 liblua.a /usr/local/lib</span>
</span><span class="z-source z-shell z-bash"><span class="z-meta z-function-call z-shell"><span class="z-support z-function z-cd z-shell">cd</span></span><span class="z-meta z-function-call z-arguments z-shell"> doc</span> <span class="z-keyword z-operator z-logical z-and z-shell">&amp;&amp;</span> <span class="z-meta z-function-call z-shell"><span class="z-variable z-function z-shell">install</span></span><span class="z-meta z-function-call z-arguments z-shell"><span class="z-variable z-parameter z-option z-shell"><span class="z-punctuation z-definition z-parameter z-shell"> -</span>p</span><span class="z-variable z-parameter z-option z-shell"><span class="z-punctuation z-definition z-parameter z-shell"> -</span>m</span> 0644 lua.1 luac.1 /usr/local/man/man1</span>
</span><span class="z-source z-shell z-bash"><span class="z-meta z-function-call z-shell"><span class="z-variable z-function z-shell">[root@work</span></span><span class="z-meta z-function-call z-arguments z-shell"> lua-5.4.6]# lua<span class="z-variable z-parameter z-option z-shell"><span class="z-punctuation z-definition z-parameter z-shell"> -</span>v</span></span>
</span><span class="z-source z-shell z-bash"><span class="z-meta z-function-call z-shell"><span class="z-variable z-function z-shell">Lua</span></span><span class="z-meta z-function-call z-arguments z-shell"> 5.4.6  Copyright (C</span><span class="z-meta z-function-call z-shell"></span>) <span class="z-meta z-function-call z-shell"><span class="z-variable z-function z-shell">1994-2023</span></span><span class="z-meta z-function-call z-arguments z-shell"> Lua.org, PUC-Rio</span>
</span></code></pre>
<h2 id="yu-fa">语法</h2>
<p>他的语法和C/C++语法非常相似，整体上比较清晰，简洁。条件语句、循环语句、函数调用都与C/C++基本一致。</p>
<h3 id="jiao-hu-shi-helloworld">交互式HelloWorld</h3>
<pre data-lang="bash" class="language-bash z-code"><code class="language-bash" data-lang="bash"><span class="z-source z-shell z-bash"><span class="z-meta z-function-call z-shell"><span class="z-variable z-function z-shell">[root@work</span></span><span class="z-meta z-function-call z-arguments z-shell"> env]# lua</span>
</span><span class="z-source z-shell z-bash"><span class="z-meta z-function-call z-shell"><span class="z-variable z-function z-shell">Lua</span></span><span class="z-meta z-function-call z-arguments z-shell"> 5.4.6  Copyright (C</span><span class="z-meta z-function-call z-shell"></span>) <span class="z-meta z-function-call z-shell"><span class="z-variable z-function z-shell">1994-2023</span></span><span class="z-meta z-function-call z-arguments z-shell"> Lua.org, PUC-Rio</span>
</span><span class="z-source z-shell z-bash"><span class="z-keyword z-operator z-assignment z-redirection z-shell">&gt;</span> print<span class="z-punctuation z-definition z-compound z-begin z-shell">(</span><span class="z-meta z-function-call z-shell"><span class="z-variable z-function z-shell"><span class="z-string z-quoted z-single z-shell"><span class="z-punctuation z-definition z-string z-begin z-shell">&#39;</span>hello world!!<span class="z-punctuation z-definition z-string z-end z-shell">&#39;</span></span></span></span><span class="z-punctuation z-definition z-compound z-end z-shell">)</span><span class="z-meta z-function-call z-arguments z-shell"> </span>
</span><span class="z-source z-shell z-bash"><span class="z-meta z-function-call z-shell"><span class="z-variable z-function z-shell">hello</span></span><span class="z-meta z-function-call z-arguments z-shell"> world!!</span>
</span><span class="z-source z-shell z-bash"><span class="z-keyword z-operator z-assignment z-redirection z-shell">&gt;</span> 
</span></code></pre>
<h3 id="jiao-ben-shi-helloworld">脚本式HelloWorld</h3>
<h4 id="di-yi-chong-fang-shi">第一种方式</h4>
<pre data-lang="bash" class="language-bash z-code"><code class="language-bash" data-lang="bash"><span class="z-source z-shell z-bash"><span class="z-meta z-function-call z-shell"><span class="z-variable z-function z-shell">[root@work</span></span><span class="z-meta z-function-call z-arguments z-shell"> <span class="z-meta z-group z-expansion z-tilde"><span class="z-variable z-language z-tilde z-shell">~</span></span>]# mkdir lua_demo</span>
</span><span class="z-source z-shell z-bash"><span class="z-meta z-function-call z-shell"><span class="z-variable z-function z-shell">[root@work</span></span><span class="z-meta z-function-call z-arguments z-shell"> <span class="z-meta z-group z-expansion z-tilde"><span class="z-variable z-language z-tilde z-shell">~</span></span>]# cd lua_demo/</span>
</span><span class="z-source z-shell z-bash"><span class="z-meta z-function-call z-shell"><span class="z-variable z-function z-shell">[root@work</span></span><span class="z-meta z-function-call z-arguments z-shell"> lua_demo]# vim hello.lua</span>
</span><span class="z-source z-shell z-bash"><span class="z-meta z-function-call z-shell"><span class="z-variable z-function z-shell">[root@work</span></span><span class="z-meta z-function-call z-arguments z-shell"> lua_demo]# cat hello.lua </span>
</span><span class="z-source z-shell z-bash"><span class="z-meta z-function-call z-shell"><span class="z-variable z-function z-shell">print</span></span><span class="z-meta z-function-call z-arguments z-shell">(<span class="z-string z-quoted z-single z-shell"><span class="z-punctuation z-definition z-string z-begin z-shell">&#39;</span>hello world!!!<span class="z-punctuation z-definition z-string z-end z-shell">&#39;</span></span></span><span class="z-meta z-function-call z-shell"></span>)
</span><span class="z-source z-shell z-bash"><span class="z-meta z-function-call z-shell"><span class="z-variable z-function z-shell">[root@work</span></span><span class="z-meta z-function-call z-arguments z-shell"> lua_demo]# lua hello.lua </span>
</span><span class="z-source z-shell z-bash"><span class="z-meta z-function-call z-shell"><span class="z-variable z-function z-shell">hello</span></span><span class="z-meta z-function-call z-arguments z-shell"> world!!!</span>
</span></code></pre>
<h4 id="di-er-chong-fang-shi">第二种方式</h4>
<pre data-lang="bash" class="language-bash z-code"><code class="language-bash" data-lang="bash"><span class="z-source z-shell z-bash"><span class="z-meta z-function-call z-shell"><span class="z-variable z-function z-shell">[root@work</span></span><span class="z-meta z-function-call z-arguments z-shell"> lua_demo]# vim hello.lua</span>
</span><span class="z-source z-shell z-bash"><span class="z-meta z-function-call z-shell"><span class="z-variable z-function z-shell">[root@work</span></span><span class="z-meta z-function-call z-arguments z-shell"> lua_demo]# cat hello.lua </span>
</span><span class="z-source z-shell z-bash"><span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell">! /usr/local/bin/lua</span><span class="z-comment z-line z-number-sign z-shell">
</span></span><span class="z-source z-shell z-bash"><span class="z-meta z-function-call z-shell"><span class="z-variable z-function z-shell">print</span></span><span class="z-meta z-function-call z-arguments z-shell">(<span class="z-string z-quoted z-single z-shell"><span class="z-punctuation z-definition z-string z-begin z-shell">&#39;</span>hello world!!!<span class="z-punctuation z-definition z-string z-end z-shell">&#39;</span></span></span><span class="z-meta z-function-call z-shell"></span>)
</span><span class="z-source z-shell z-bash"><span class="z-meta z-function-call z-shell"><span class="z-variable z-function z-shell">[root@work</span></span><span class="z-meta z-function-call z-arguments z-shell"> lua_demo]# chmod +x hello.lua </span>
</span><span class="z-source z-shell z-bash"><span class="z-meta z-function-call z-shell"><span class="z-variable z-function z-shell">[root@work</span></span><span class="z-meta z-function-call z-arguments z-shell"> lua_demo]# ./hello.lua </span>
</span><span class="z-source z-shell z-bash"><span class="z-meta z-function-call z-shell"><span class="z-variable z-function z-shell">hello</span></span><span class="z-meta z-function-call z-arguments z-shell"> world!!!</span>
</span></code></pre>
<h3 id="zhu-shi">注释</h3>
<pre data-lang="lua" class="language-lua z-code"><code class="language-lua" data-lang="lua"><span class="z-source z-lua"><span class="z-keyword z-operator z-arithmetic z-lua">%</span><span class="z-keyword z-operator z-arithmetic z-lua">%</span> 单行注释 <span class="z-keyword z-operator z-arithmetic z-lua">%</span><span class="z-keyword z-operator z-arithmetic z-lua">%</span>
</span><span class="z-source z-lua"><span class="z-comment z-line z-lua"><span class="z-punctuation z-definition z-comment z-lua">--</span> print(&quot;111&quot;)
</span></span><span class="z-source z-lua"><span class="z-keyword z-operator z-arithmetic z-lua">%</span><span class="z-keyword z-operator z-arithmetic z-lua">%</span> 多行注释 <span class="z-keyword z-operator z-arithmetic z-lua">%</span><span class="z-keyword z-operator z-arithmetic z-lua">%</span>
</span><span class="z-source z-lua"><span class="z-comment z-block z-lua"><span class="z-punctuation z-definition z-comment z-begin z-lua">--[[</span>
</span></span><span class="z-source z-lua"><span class="z-comment z-block z-lua">	print(&quot;222&quot;)
</span></span><span class="z-source z-lua"><span class="z-comment z-block z-lua">--<span class="z-punctuation z-definition z-comment z-end z-lua">]]</span></span>
</span><span class="z-source z-lua"><span class="z-keyword z-operator z-arithmetic z-lua">%</span><span class="z-keyword z-operator z-arithmetic z-lua">%</span> 取消多行注释 <span class="z-keyword z-operator z-arithmetic z-lua">%</span><span class="z-keyword z-operator z-arithmetic z-lua">%</span>
</span><span class="z-source z-lua"><span class="z-comment z-line z-lua"><span class="z-punctuation z-definition z-comment z-lua">--</span>-[[
</span></span><span class="z-source z-lua">	<span class="z-support z-function z-builtin z-lua">print</span><span class="z-meta z-function-call z-arguments z-lua"><span class="z-meta z-group z-lua"><span class="z-punctuation z-section z-group z-begin z-lua">(</span><span class="z-string z-quoted z-double z-lua"><span class="z-punctuation z-definition z-string z-begin z-lua">&quot;</span>222<span class="z-punctuation z-definition z-string z-end z-lua">&quot;</span></span><span class="z-punctuation z-section z-group z-end z-lua">)</span></span></span>
</span><span class="z-source z-lua"><span class="z-comment z-line z-lua"><span class="z-punctuation z-definition z-comment z-lua">--</span>]]
</span></span></code></pre>
<p>测试</p>
<pre data-lang="bash" class="language-bash z-code"><code class="language-bash" data-lang="bash"><span class="z-source z-shell z-bash"><span class="z-meta z-function-call z-shell"><span class="z-variable z-function z-shell">[root@work</span></span><span class="z-meta z-function-call z-arguments z-shell"> lua_demo]# vim demo2.lua</span>
</span><span class="z-source z-shell z-bash"><span class="z-meta z-function-call z-shell"><span class="z-variable z-function z-shell">[root@work</span></span><span class="z-meta z-function-call z-arguments z-shell"> lua_demo]# cat demo2.lua </span>
</span><span class="z-source z-shell z-bash"><span class="z-meta z-function-call z-shell"><span class="z-variable z-function z-shell">--</span></span><span class="z-meta z-function-call z-arguments z-shell"> print(<span class="z-string z-quoted z-double z-shell"><span class="z-punctuation z-definition z-string z-begin z-shell">&quot;</span>111<span class="z-punctuation z-definition z-string z-end z-shell">&quot;</span></span></span><span class="z-meta z-function-call z-shell"></span>)
</span><span class="z-source z-shell z-bash"><span class="z-meta z-function-call z-shell"><span class="z-variable z-function z-shell">--[[</span></span>
</span><span class="z-source z-shell z-bash">	<span class="z-meta z-function-call z-shell"><span class="z-variable z-function z-shell">print</span></span><span class="z-meta z-function-call z-arguments z-shell">(<span class="z-string z-quoted z-double z-shell"><span class="z-punctuation z-definition z-string z-begin z-shell">&quot;</span>222<span class="z-punctuation z-definition z-string z-end z-shell">&quot;</span></span></span><span class="z-meta z-function-call z-shell"></span>)
</span><span class="z-source z-shell z-bash"><span class="z-meta z-function-call z-shell"><span class="z-variable z-function z-shell">--]]</span></span>
</span><span class="z-source z-shell z-bash"><span class="z-meta z-function-call z-shell"><span class="z-variable z-function z-shell">---[[</span></span>
</span><span class="z-source z-shell z-bash">	<span class="z-meta z-function-call z-shell"><span class="z-variable z-function z-shell">print</span></span><span class="z-meta z-function-call z-arguments z-shell">(<span class="z-string z-quoted z-double z-shell"><span class="z-punctuation z-definition z-string z-begin z-shell">&quot;</span>333<span class="z-punctuation z-definition z-string z-end z-shell">&quot;</span></span></span><span class="z-meta z-function-call z-shell"></span>)
</span><span class="z-source z-shell z-bash"><span class="z-meta z-function-call z-shell"><span class="z-variable z-function z-shell">--]]</span></span>
</span><span class="z-source z-shell z-bash"><span class="z-meta z-function-call z-shell"><span class="z-variable z-function z-shell">[root@work</span></span><span class="z-meta z-function-call z-arguments z-shell"> lua_demo]# lua demo2.lua </span>
</span><span class="z-source z-shell z-bash"><span class="z-meta z-function-call z-shell"><span class="z-variable z-function z-shell">333</span></span>
</span></code></pre>
<h3 id="biao-shi-fu">标识符</h3>
<p>标识符就是变量名，Lua定义变量名以 一个字母A到Z或a到z或下划线_开头后加上0个或者多个字母，下划线，数字(0-9)。这块建议最好不要使用下划线加大写字母的标识符，因为Lua的保留字也是这样定义的，容易发生冲突。注意Lua是区分大小写字母的。</p>
<h3 id="guan-jian-zi">关键字</h3>
<p>下面Lua的关键词，大家在定义常量、变量或其他用户定义标识符都要避免使用一下关键字</p>
<table><thead><tr><th>and</th><th>break</th><th>do</th><th>else</th></tr></thead><tbody>
<tr><td>elseif</td><td>end</td><td>false</td><td>for</td></tr>
<tr><td>function</td><td>if</td><td>in</td><td>local</td></tr>
<tr><td>nil</td><td>not</td><td>or</td><td>repeat</td></tr>
<tr><td>return</td><td>then</td><td>true</td><td>until</td></tr>
<tr><td>while</td><td>goto</td><td></td><td></td></tr>
<tr><td>一般约定，一以下划线开头连接一串大写字母的名字(比如_VERSION)被保留用于Lua内部全局变量。这个也是上面我们不建议这么定义标识符的原因</td><td></td><td></td><td></td></tr>
</tbody></table>
<h3 id="yun-suan-fu">运算符</h3>
<p>Lua中支持的运算符有算数运算符、关系运算符、逻辑运算符、其他运算符。</p>
<h4 id="suan-shu-yun-suan-fu">算数运算符</h4>
<pre data-lang="text" class="language-text z-code"><code class="language-text" data-lang="text"><span class="z-text z-plain">+ 加
</span><span class="z-text z-plain">- 减
</span><span class="z-text z-plain">* 乘
</span><span class="z-text z-plain">/ 除
</span><span class="z-text z-plain">% 取余
</span><span class="z-text z-plain">^ 乘幂
</span><span class="z-text z-plain">- 负号
</span></code></pre>
<h4 id="guan-xi-yun-suan-fu">关系运算符</h4>
<pre data-lang="text" class="language-text z-code"><code class="language-text" data-lang="text"><span class="z-text z-plain">== 等于
</span><span class="z-text z-plain">~= 不等于
</span><span class="z-text z-plain">&gt; 大于
</span><span class="z-text z-plain">&lt; 小于
</span><span class="z-text z-plain">&gt;= 大于等于
</span><span class="z-text z-plain">&lt;= 小于等于
</span></code></pre>
<h4 id="luo-ji-yun-suan-fu">逻辑运算符</h4>
<pre data-lang="text" class="language-text z-code"><code class="language-text" data-lang="text"><span class="z-text z-plain">and 与 同时true返回true 
</span><span class="z-text z-plain">or 或 一个true返回true
</span><span class="z-text z-plain">not 非 取反
</span></code></pre>
<h4 id="qi-ta-yun-suan-fu">其他运算符</h4>
<pre data-lang="text" class="language-text z-code"><code class="language-text" data-lang="text"><span class="z-text z-plain">.. 连接两个字符串
</span><span class="z-text z-plain">#  一元预算法，返回字符串或表的长度
</span></code></pre>
<p>例如</p>
<pre data-lang="bash" class="language-bash z-code"><code class="language-bash" data-lang="bash"><span class="z-source z-shell z-bash"><span class="z-meta z-function-call z-shell"><span class="z-variable z-function z-shell">[root@work</span></span><span class="z-meta z-function-call z-arguments z-shell"> lua_demo]# lua </span>
</span><span class="z-source z-shell z-bash"><span class="z-meta z-function-call z-shell"><span class="z-variable z-function z-shell">Lua</span></span><span class="z-meta z-function-call z-arguments z-shell"> 5.4.6  Copyright (C</span><span class="z-meta z-function-call z-shell"></span>) <span class="z-meta z-function-call z-shell"><span class="z-variable z-function z-shell">1994-2023</span></span><span class="z-meta z-function-call z-arguments z-shell"> Lua.org, PUC-Rio</span>
</span><span class="z-source z-shell z-bash"><span class="z-keyword z-operator z-assignment z-redirection z-shell">&gt;</span> 
</span><span class="z-source z-shell z-bash"><span class="z-keyword z-operator z-assignment z-redirection z-shell">&gt;</span> print<span class="z-punctuation z-definition z-compound z-begin z-shell">(</span><span class="z-meta z-function-call z-shell"><span class="z-variable z-function z-shell"><span class="z-string z-quoted z-single z-shell"><span class="z-punctuation z-definition z-string z-begin z-shell">&#39;</span>HELLO <span class="z-punctuation z-definition z-string z-end z-shell">&#39;</span></span>..<span class="z-string z-quoted z-single z-shell"><span class="z-punctuation z-definition z-string z-begin z-shell">&#39;</span>WORLD<span class="z-punctuation z-definition z-string z-end z-shell">&#39;</span></span></span></span><span class="z-punctuation z-definition z-compound z-end z-shell">)</span><span class="z-meta z-function-call z-arguments z-shell"> </span>
</span><span class="z-source z-shell z-bash"><span class="z-meta z-function-call z-shell"><span class="z-variable z-function z-shell">HELLO</span></span><span class="z-meta z-function-call z-arguments z-shell"> WORLD</span>
</span><span class="z-source z-shell z-bash"><span class="z-keyword z-operator z-assignment z-redirection z-shell">&gt;</span> print<span class="z-punctuation z-definition z-compound z-begin z-shell">(</span><span class="z-meta z-function-call z-shell"><span class="z-variable z-function z-shell">#<span class="z-string z-quoted z-single z-shell"><span class="z-punctuation z-definition z-string z-begin z-shell">&#39;</span>hello<span class="z-punctuation z-definition z-string z-end z-shell">&#39;</span></span></span></span><span class="z-punctuation z-definition z-compound z-end z-shell">)</span><span class="z-meta z-function-call z-arguments z-shell">         </span>
</span><span class="z-source z-shell z-bash"><span class="z-meta z-function-call z-shell"><span class="z-variable z-function z-shell">5</span></span>
</span></code></pre>
<h3 id="quan-ju-bian-liang-ju-bu-bian-liang">全局变量&amp;局部变量</h3>
<p>在Lua语言中，全局变量无须声明即可使用。在默认情况下，变量总是认为是全局的，如果未提前赋值，默认为nil。如果想要声明一个局部变量需要使用local来声明。</p>
<pre data-lang="bash" class="language-bash z-code"><code class="language-bash" data-lang="bash"><span class="z-source z-shell z-bash"><span class="z-meta z-function-call z-shell"><span class="z-variable z-function z-shell">[root@work</span></span><span class="z-meta z-function-call z-arguments z-shell"> lua_demo]# lua</span>
</span><span class="z-source z-shell z-bash"><span class="z-meta z-function-call z-shell"><span class="z-variable z-function z-shell">Lua</span></span><span class="z-meta z-function-call z-arguments z-shell"> 5.4.6  Copyright (C</span><span class="z-meta z-function-call z-shell"></span>) <span class="z-meta z-function-call z-shell"><span class="z-variable z-function z-shell">1994-2023</span></span><span class="z-meta z-function-call z-arguments z-shell"> Lua.org, PUC-Rio</span>
</span><span class="z-source z-shell z-bash"><span class="z-keyword z-operator z-assignment z-redirection z-shell">&gt;</span> b=10
</span><span class="z-source z-shell z-bash"><span class="z-keyword z-operator z-assignment z-redirection z-shell">&gt;</span> print<span class="z-punctuation z-definition z-compound z-begin z-shell">(</span><span class="z-meta z-function-call z-shell"><span class="z-variable z-function z-shell">b</span></span><span class="z-punctuation z-definition z-compound z-end z-shell">)</span>
</span><span class="z-source z-shell z-bash"><span class="z-meta z-function-call z-shell"><span class="z-variable z-function z-shell">10</span></span>
</span><span class="z-source z-shell z-bash"><span class="z-keyword z-operator z-assignment z-redirection z-shell">&gt;</span> local <span class="z-meta z-function-call z-shell"><span class="z-variable z-function z-shell">a</span></span><span class="z-meta z-function-call z-arguments z-shell"> = 100</span>
</span><span class="z-source z-shell z-bash"><span class="z-keyword z-operator z-assignment z-redirection z-shell">&gt;</span> print<span class="z-punctuation z-definition z-compound z-begin z-shell">(</span><span class="z-meta z-function-call z-shell"><span class="z-variable z-function z-shell">a</span></span><span class="z-punctuation z-definition z-compound z-end z-shell">)</span>
</span><span class="z-source z-shell z-bash"><span class="z-meta z-function-call z-shell"><span class="z-variable z-function z-shell">nil</span></span>
</span><span class="z-source z-shell z-bash"><span class="z-keyword z-operator z-assignment z-redirection z-shell">&gt;</span> local <span class="z-meta z-function-call z-shell"><span class="z-variable z-function z-shell">a</span></span><span class="z-meta z-function-call z-arguments z-shell"> = 100</span><span class="z-keyword z-operator z-logical z-continue z-shell">;</span> <span class="z-meta z-function-call z-shell"><span class="z-variable z-function z-shell">print</span></span><span class="z-meta z-function-call z-arguments z-shell">(a</span><span class="z-meta z-function-call z-shell"></span>)   
</span><span class="z-source z-shell z-bash"><span class="z-meta z-function-call z-shell"><span class="z-variable z-function z-shell">100</span></span>
</span><span class="z-source z-shell z-bash"><span class="z-keyword z-operator z-assignment z-redirection z-shell">&gt;</span> 
</span></code></pre>
<h3 id="shu-ju-lei-xing">数据类型</h3>
<h4 id="quan-bu-de-lei-xing">全部的类型</h4>
<p>Lua有8个数据类型</p>
<pre data-lang="text" class="language-text z-code"><code class="language-text" data-lang="text"><span class="z-text z-plain">nil(空，无效值)
</span><span class="z-text z-plain">boolean(布尔,true/false)
</span><span class="z-text z-plain">number(数值)
</span><span class="z-text z-plain">string(字符串)
</span><span class="z-text z-plain">function(函数)
</span><span class="z-text z-plain">table(表)
</span><span class="z-text z-plain">thread(线程)
</span><span class="z-text z-plain">userdata(数据用户)
</span></code></pre>
<p>可以使用type函数测试给定变量或者类型：</p>
<pre data-lang="bash" class="language-bash z-code"><code class="language-bash" data-lang="bash"><span class="z-source z-shell z-bash"><span class="z-meta z-function-call z-shell"><span class="z-variable z-function z-shell">[root@work</span></span><span class="z-meta z-function-call z-arguments z-shell"> lua_demo]# lua</span>
</span><span class="z-source z-shell z-bash"><span class="z-meta z-function-call z-shell"><span class="z-variable z-function z-shell">Lua</span></span><span class="z-meta z-function-call z-arguments z-shell"> 5.4.6  Copyright (C</span><span class="z-meta z-function-call z-shell"></span>) <span class="z-meta z-function-call z-shell"><span class="z-variable z-function z-shell">1994-2023</span></span><span class="z-meta z-function-call z-arguments z-shell"> Lua.org, PUC-Rio</span>
</span><span class="z-source z-shell z-bash"><span class="z-keyword z-operator z-assignment z-redirection z-shell">&gt;</span> print<span class="z-punctuation z-definition z-compound z-begin z-shell">(</span><span class="z-meta z-function-call z-shell"><span class="z-variable z-function z-shell">type</span></span><span class="z-meta z-function-call z-arguments z-shell">(nil</span><span class="z-punctuation z-definition z-compound z-end z-shell">)</span><span class="z-meta z-function-call z-shell"></span>)
</span><span class="z-source z-shell z-bash"><span class="z-meta z-function-call z-shell"><span class="z-variable z-function z-shell">nil</span></span>
</span><span class="z-source z-shell z-bash"><span class="z-keyword z-operator z-assignment z-redirection z-shell">&gt;</span> print<span class="z-punctuation z-definition z-compound z-begin z-shell">(</span><span class="z-meta z-function-call z-shell"><span class="z-variable z-function z-shell">type</span></span><span class="z-meta z-function-call z-arguments z-shell">(<span class="z-string z-quoted z-double z-shell"><span class="z-punctuation z-definition z-string z-begin z-shell">&quot;</span>aaa<span class="z-punctuation z-definition z-string z-end z-shell">&quot;</span></span></span><span class="z-punctuation z-definition z-compound z-end z-shell">)</span><span class="z-meta z-function-call z-shell"></span>)
</span><span class="z-source z-shell z-bash"><span class="z-meta z-function-call z-shell"><span class="z-variable z-function z-shell">string</span></span>
</span><span class="z-source z-shell z-bash"><span class="z-keyword z-operator z-assignment z-redirection z-shell">&gt;</span> 
</span></code></pre>
<h4 id="nil">nil</h4>
<p>nil是一种只有一个nil值的类型，他的作用可以用来与其他所有值进行区分，也可以当想要移除一个变量时，只需要将该变量名赋值为nil，垃圾回收就会释放该变量所占用的内存。</p>
<h4 id="boolean">boolean</h4>
<p>boolean类型具有两个值，true和false。在Lua中，只会将false和nil视为假，其他都是真，特别是在条件检测中0和空字符串都会认为是真，这个和我们熟悉的大多语言不太一样。</p>
<h4 id="number">number</h4>
<p>在lua5.3开始，lua语言为数值格式提供了两种选择:integer(整型)和float(双精度浮点型)[和其他语言不太一样，floatu代表单精度类型]，u不管是整形还是双精度浮点型，使用type()函数来取其类型，返回的都是number。还有就是他们之间是可以直接相互转换的。</p>
<h4 id="string">string</h4>
<p>Lua语言中的字符串可以标识单个字符，也可以标识一整本书籍。在Lua语言中，操作100k或者1M个字母组成的字符串的程序很常见。如果字符串数据很多可以这样写</p>
<pre data-lang="lua" class="language-lua z-code"><code class="language-lua" data-lang="lua"><span class="z-source z-lua"><span class="z-variable z-other z-lua">a</span> <span class="z-keyword z-operator z-assignment z-lua">=</span> <span class="z-string z-quoted z-multiline z-lua"><span class="z-punctuation z-definition z-string z-begin z-lua">[[</span>
</span></span><span class="z-source z-lua"><span class="z-string z-quoted z-multiline z-lua">&lt;html&gt;
</span></span><span class="z-source z-lua"><span class="z-string z-quoted z-multiline z-lua">xxx
</span></span><span class="z-source z-lua"><span class="z-string z-quoted z-multiline z-lua">xxxx
</span></span><span class="z-source z-lua"><span class="z-string z-quoted z-multiline z-lua">xxx
</span></span><span class="z-source z-lua"><span class="z-string z-quoted z-multiline z-lua">&lt;/html&gt;
</span></span><span class="z-source z-lua"><span class="z-string z-quoted z-multiline z-lua"><span class="z-punctuation z-definition z-string z-end z-lua">]]</span></span>
</span></code></pre>
<h4 id="table">table</h4>
<p>table是lua语言中最主要和强大的数据结构。使用表，Lua语言可以以一种简单、统一且高效的方式标识数组、合集、记录和其他很多数据结构。Lua语言中的表本质上是一种辅助数组。这种数组比Java中的数组更加灵活，可以使用数值做索引，也可以使用字符串或其他任意类型的值做索引(nil除外)</p>
<pre data-lang="bash" class="language-bash z-code"><code class="language-bash" data-lang="bash"><span class="z-source z-shell z-bash"><span class="z-meta z-function-call z-shell"><span class="z-variable z-function z-shell">[root@work</span></span><span class="z-meta z-function-call z-arguments z-shell"> lua_demo]# lua</span>
</span><span class="z-source z-shell z-bash"><span class="z-meta z-function-call z-shell"><span class="z-variable z-function z-shell">Lua</span></span><span class="z-meta z-function-call z-arguments z-shell"> 5.4.6  Copyright (C</span><span class="z-meta z-function-call z-shell"></span>) <span class="z-meta z-function-call z-shell"><span class="z-variable z-function z-shell">1994-2023</span></span><span class="z-meta z-function-call z-arguments z-shell"> Lua.org, PUC-Rio</span>
</span><span class="z-source z-shell z-bash"><span class="z-keyword z-operator z-assignment z-redirection z-shell">&gt;</span> a <span class="z-keyword z-operator z-assignment z-shell">=</span> <span class="z-meta z-function-call z-shell"><span class="z-variable z-function z-shell">{</span></span><span class="z-meta z-function-call z-shell"></span>}
</span><span class="z-source z-shell z-bash"><span class="z-keyword z-operator z-assignment z-redirection z-shell">&gt;</span> arr <span class="z-keyword z-operator z-assignment z-shell">=</span> <span class="z-meta z-function-call z-shell"><span class="z-variable z-function z-shell">{<span class="z-string z-quoted z-double z-shell"><span class="z-punctuation z-definition z-string z-begin z-shell">&quot;</span>TOM<span class="z-punctuation z-definition z-string z-end z-shell">&quot;</span></span>,<span class="z-string z-quoted z-double z-shell"><span class="z-punctuation z-definition z-string z-begin z-shell">&quot;</span>JERRY<span class="z-punctuation z-definition z-string z-end z-shell">&quot;</span></span>,<span class="z-string z-quoted z-double z-shell"><span class="z-punctuation z-definition z-string z-begin z-shell">&quot;</span>ROSE<span class="z-punctuation z-definition z-string z-end z-shell">&quot;</span></span></span></span><span class="z-meta z-function-call z-shell"></span>}
</span><span class="z-source z-shell z-bash"><span class="z-keyword z-operator z-assignment z-redirection z-shell">&gt;</span> print<span class="z-punctuation z-definition z-compound z-begin z-shell">(</span><span class="z-meta z-function-call z-shell"><span class="z-variable z-function z-shell">arr[0]</span></span><span class="z-punctuation z-definition z-compound z-end z-shell">)</span><span class="z-meta z-function-call z-arguments z-shell">  </span>
</span><span class="z-source z-shell z-bash"><span class="z-meta z-function-call z-shell"><span class="z-variable z-function z-shell">nil</span></span>
</span><span class="z-source z-shell z-bash"><span class="z-keyword z-operator z-assignment z-redirection z-shell">&gt;</span> print<span class="z-punctuation z-definition z-compound z-begin z-shell">(</span><span class="z-meta z-function-call z-shell"><span class="z-variable z-function z-shell">arr[1]</span></span><span class="z-punctuation z-definition z-compound z-end z-shell">)</span><span class="z-meta z-function-call z-arguments z-shell">     </span>
</span><span class="z-source z-shell z-bash"><span class="z-meta z-function-call z-shell"><span class="z-variable z-function z-shell">TOM</span></span>
</span><span class="z-source z-shell z-bash"><span class="z-keyword z-operator z-assignment z-redirection z-shell">&gt;</span> print<span class="z-punctuation z-definition z-compound z-begin z-shell">(</span><span class="z-meta z-function-call z-shell"><span class="z-variable z-function z-shell">arr[2]</span></span><span class="z-punctuation z-definition z-compound z-end z-shell">)</span><span class="z-meta z-function-call z-arguments z-shell"> </span>
</span><span class="z-source z-shell z-bash"><span class="z-meta z-function-call z-shell"><span class="z-variable z-function z-shell">JERRY</span></span>
</span><span class="z-source z-shell z-bash"><span class="z-keyword z-operator z-assignment z-redirection z-shell">&gt;</span> print<span class="z-punctuation z-definition z-compound z-begin z-shell">(</span><span class="z-meta z-function-call z-shell"><span class="z-variable z-function z-shell">arr[3]</span></span><span class="z-punctuation z-definition z-compound z-end z-shell">)</span><span class="z-meta z-function-call z-arguments z-shell"> </span>
</span><span class="z-source z-shell z-bash"><span class="z-meta z-function-call z-shell"><span class="z-variable z-function z-shell">ROSE</span></span>
</span><span class="z-source z-shell z-bash"><span class="z-keyword z-operator z-assignment z-redirection z-shell">&gt;</span> arr=<span class="z-meta z-group z-expansion z-brace z-shell"><span class="z-punctuation z-section z-expansion z-brace z-begin z-shell">{</span><span class="z-punctuation z-section z-expansion z-brace z-end z-shell">}</span></span>
</span><span class="z-source z-shell z-bash"><span class="z-keyword z-operator z-assignment z-redirection z-shell">&gt;</span> arr<span class="z-keyword z-control z-regexp z-set z-begin z-shell">[</span><span class="z-string z-quoted z-double z-shell"><span class="z-punctuation z-definition z-string z-begin z-shell">&quot;</span>X<span class="z-punctuation z-definition z-string z-end z-shell">&quot;</span></span><span class="z-keyword z-control z-regexp z-set z-end z-shell">]</span>=10
</span><span class="z-source z-shell z-bash"><span class="z-keyword z-operator z-assignment z-redirection z-shell">&gt;</span> arr<span class="z-keyword z-control z-regexp z-set z-begin z-shell">[</span><span class="z-string z-quoted z-double z-shell"><span class="z-punctuation z-definition z-string z-begin z-shell">&quot;</span>Y<span class="z-punctuation z-definition z-string z-end z-shell">&quot;</span></span><span class="z-keyword z-control z-regexp z-set z-end z-shell">]</span>=20
</span><span class="z-source z-shell z-bash"><span class="z-keyword z-operator z-assignment z-redirection z-shell">&gt;</span> arr<span class="z-keyword z-control z-regexp z-set z-begin z-shell">[</span><span class="z-string z-quoted z-double z-shell"><span class="z-punctuation z-definition z-string z-begin z-shell">&quot;</span>Z<span class="z-punctuation z-definition z-string z-end z-shell">&quot;</span></span><span class="z-keyword z-control z-regexp z-set z-end z-shell">]</span>=30
</span><span class="z-source z-shell z-bash"><span class="z-keyword z-operator z-assignment z-redirection z-shell">&gt;</span> print<span class="z-punctuation z-definition z-compound z-begin z-shell">(</span><span class="z-meta z-function-call z-shell"><span class="z-variable z-function z-shell">arr[<span class="z-string z-quoted z-double z-shell"><span class="z-punctuation z-definition z-string z-begin z-shell">&quot;</span>X<span class="z-punctuation z-definition z-string z-end z-shell">&quot;</span></span>]</span></span><span class="z-punctuation z-definition z-compound z-end z-shell">)</span>
</span><span class="z-source z-shell z-bash"><span class="z-meta z-function-call z-shell"><span class="z-variable z-function z-shell">10</span></span>
</span><span class="z-source z-shell z-bash"><span class="z-keyword z-operator z-assignment z-redirection z-shell">&gt;</span> print<span class="z-punctuation z-definition z-compound z-begin z-shell">(</span><span class="z-meta z-function-call z-shell"><span class="z-variable z-function z-shell">arr[<span class="z-string z-quoted z-double z-shell"><span class="z-punctuation z-definition z-string z-begin z-shell">&quot;</span>Y<span class="z-punctuation z-definition z-string z-end z-shell">&quot;</span></span>]</span></span><span class="z-punctuation z-definition z-compound z-end z-shell">)</span>
</span><span class="z-source z-shell z-bash"><span class="z-meta z-function-call z-shell"><span class="z-variable z-function z-shell">20</span></span>
</span><span class="z-source z-shell z-bash"><span class="z-keyword z-operator z-assignment z-redirection z-shell">&gt;</span> print<span class="z-punctuation z-definition z-compound z-begin z-shell">(</span><span class="z-meta z-function-call z-shell"><span class="z-variable z-function z-shell">arr[<span class="z-string z-quoted z-double z-shell"><span class="z-punctuation z-definition z-string z-begin z-shell">&quot;</span>Z<span class="z-punctuation z-definition z-string z-end z-shell">&quot;</span></span>]</span></span><span class="z-punctuation z-definition z-compound z-end z-shell">)</span>
</span><span class="z-source z-shell z-bash"><span class="z-meta z-function-call z-shell"><span class="z-variable z-function z-shell">30</span></span>
</span><span class="z-source z-shell z-bash"><span class="z-keyword z-operator z-assignment z-redirection z-shell">&gt;</span> arr.X
</span><span class="z-source z-shell z-bash"><span class="z-meta z-function-call z-shell"><span class="z-variable z-function z-shell">10</span></span>
</span><span class="z-source z-shell z-bash"><span class="z-keyword z-operator z-assignment z-redirection z-shell">&gt;</span> arr.Y
</span><span class="z-source z-shell z-bash"><span class="z-meta z-function-call z-shell"><span class="z-variable z-function z-shell">20</span></span>
</span><span class="z-source z-shell z-bash"><span class="z-keyword z-operator z-assignment z-redirection z-shell">&gt;</span> arr.Y
</span><span class="z-source z-shell z-bash"><span class="z-meta z-function-call z-shell"><span class="z-variable z-function z-shell">20</span></span>
</span><span class="z-source z-shell z-bash"><span class="z-keyword z-operator z-assignment z-redirection z-shell">&gt;</span> arr=<span class="z-meta z-group z-expansion z-brace z-shell"><span class="z-punctuation z-section z-expansion z-brace z-begin z-shell">{</span><span class="z-string z-quoted z-double z-shell"><span class="z-punctuation z-definition z-string z-begin z-shell">&quot;</span>TOM<span class="z-punctuation z-definition z-string z-end z-shell">&quot;</span></span><span class="z-punctuation z-separator z-shell">,</span>X=10<span class="z-punctuation z-separator z-shell">,</span><span class="z-string z-quoted z-double z-shell"><span class="z-punctuation z-definition z-string z-begin z-shell">&quot;</span>JERRY<span class="z-punctuation z-definition z-string z-end z-shell">&quot;</span></span><span class="z-punctuation z-separator z-shell">,</span>Y=20<span class="z-punctuation z-separator z-shell">,</span><span class="z-string z-quoted z-double z-shell"><span class="z-punctuation z-definition z-string z-begin z-shell">&quot;</span>ROSE<span class="z-punctuation z-definition z-string z-end z-shell">&quot;</span></span><span class="z-punctuation z-separator z-shell">,</span>Z=30<span class="z-punctuation z-section z-expansion z-brace z-end z-shell">}</span></span>
</span><span class="z-source z-shell z-bash"><span class="z-keyword z-operator z-assignment z-redirection z-shell">&gt;</span> arr<span class="z-keyword z-control z-regexp z-set z-begin z-shell">[</span>1<span class="z-keyword z-control z-regexp z-set z-end z-shell">]</span>
</span><span class="z-source z-shell z-bash"><span class="z-meta z-function-call z-shell"><span class="z-variable z-function z-shell">TOM</span></span>
</span><span class="z-source z-shell z-bash"><span class="z-keyword z-operator z-assignment z-redirection z-shell">&gt;</span> arr<span class="z-keyword z-control z-regexp z-set z-begin z-shell">[</span>2<span class="z-keyword z-control z-regexp z-set z-end z-shell">]</span>
</span><span class="z-source z-shell z-bash"><span class="z-meta z-function-call z-shell"><span class="z-variable z-function z-shell">JERRY</span></span>
</span><span class="z-source z-shell z-bash"><span class="z-keyword z-operator z-assignment z-redirection z-shell">&gt;</span> arr<span class="z-keyword z-control z-regexp z-set z-begin z-shell">[</span>3<span class="z-keyword z-control z-regexp z-set z-end z-shell">]</span>
</span><span class="z-source z-shell z-bash"><span class="z-meta z-function-call z-shell"><span class="z-variable z-function z-shell">ROSE</span></span>
</span><span class="z-source z-shell z-bash"><span class="z-keyword z-operator z-assignment z-redirection z-shell">&gt;</span> arr<span class="z-keyword z-control z-regexp z-set z-begin z-shell">[</span>4<span class="z-keyword z-control z-regexp z-set z-end z-shell">]</span>
</span><span class="z-source z-shell z-bash"><span class="z-meta z-function-call z-shell"><span class="z-variable z-function z-shell">nil</span></span>
</span><span class="z-source z-shell z-bash"><span class="z-keyword z-operator z-assignment z-redirection z-shell">&gt;</span> arr.X
</span><span class="z-source z-shell z-bash"><span class="z-meta z-function-call z-shell"><span class="z-variable z-function z-shell">10</span></span>
</span><span class="z-source z-shell z-bash"><span class="z-keyword z-operator z-assignment z-redirection z-shell">&gt;</span> arr<span class="z-keyword z-control z-regexp z-set z-begin z-shell">[</span><span class="z-string z-quoted z-double z-shell"><span class="z-punctuation z-definition z-string z-begin z-shell">&quot;</span>X<span class="z-punctuation z-definition z-string z-end z-shell">&quot;</span></span><span class="z-keyword z-control z-regexp z-set z-end z-shell">]</span>  
</span><span class="z-source z-shell z-bash"><span class="z-meta z-function-call z-shell"><span class="z-variable z-function z-shell">10</span></span>
</span><span class="z-source z-shell z-bash"><span class="z-keyword z-operator z-assignment z-redirection z-shell">&gt;</span> arr.Z
</span><span class="z-source z-shell z-bash"><span class="z-meta z-function-call z-shell"><span class="z-variable z-function z-shell">30</span></span>
</span><span class="z-source z-shell z-bash"><span class="z-keyword z-operator z-assignment z-redirection z-shell">&gt;</span> 
</span></code></pre>
<h4 id="function">function</h4>
<p>在Lua语言中，函数(Function)是对语句和表达式进行抽象的主要方式
定义函数:</p>
<pre data-lang="lua" class="language-lua z-code"><code class="language-lua" data-lang="lua"><span class="z-source z-lua"><span class="z-meta z-function z-lua"><span class="z-meta z-block z-lua"><span class="z-storage z-type z-function z-lua">function</span> <span class="z-meta z-name z-function"><span class="z-entity z-name z-function z-lua">functionName</span></span><span class="z-meta z-group z-lua"><span class="z-punctuation z-section z-group z-begin z-lua">(</span><span class="z-variable z-parameter z-function z-lua">params</span><span class="z-punctuation z-section z-group z-end z-lua">)</span></span>
</span></span></span><span class="z-source z-lua"><span class="z-meta z-function z-lua"><span class="z-meta z-block z-lua">	<span class="z-variable z-other z-lua">code</span>
</span></span></span><span class="z-source z-lua"><span class="z-meta z-function z-lua"><span class="z-meta z-block z-lua"><span class="z-keyword z-control z-end z-lua">end</span></span></span>
</span></code></pre>
<p>函数被调用的时候，传入的参数个数与定义函数时使用的参数个数不一致的时候，Lua会通过抛弃多余参数和将不足的参数设为nil的方式来调整数的个数。</p>
<pre data-lang="bash" class="language-bash z-code"><code class="language-bash" data-lang="bash"><span class="z-source z-shell z-bash"><span class="z-meta z-function-call z-shell"><span class="z-variable z-function z-shell">[root@work</span></span><span class="z-meta z-function-call z-arguments z-shell"> lua_demo]# lua</span>
</span><span class="z-source z-shell z-bash"><span class="z-meta z-function-call z-shell"><span class="z-variable z-function z-shell">Lua</span></span><span class="z-meta z-function-call z-arguments z-shell"> 5.4.6  Copyright (C</span><span class="z-meta z-function-call z-shell"></span>) <span class="z-meta z-function-call z-shell"><span class="z-variable z-function z-shell">1994-2023</span></span><span class="z-meta z-function-call z-arguments z-shell"> Lua.org, PUC-Rio</span>
</span><span class="z-source z-shell z-bash"><span class="z-keyword z-operator z-assignment z-redirection z-shell">&gt;</span> function <span class="z-meta z-function-call z-shell"><span class="z-variable z-function z-shell">f</span></span><span class="z-meta z-function-call z-arguments z-shell">(a,b</span><span class="z-meta z-function-call z-shell"></span>)
</span><span class="z-source z-shell z-bash"><span class="z-keyword z-operator z-assignment z-redirection z-shell">&gt;&gt;</span> print<span class="z-punctuation z-definition z-compound z-begin z-shell">(</span><span class="z-meta z-function-call z-shell"><span class="z-variable z-function z-shell">a,b</span></span><span class="z-punctuation z-definition z-compound z-end z-shell">)</span>
</span><span class="z-source z-shell z-bash"><span class="z-keyword z-operator z-assignment z-redirection z-shell">&gt;&gt;</span> end
</span><span class="z-source z-shell z-bash"><span class="z-keyword z-operator z-assignment z-redirection z-shell">&gt;</span> f<span class="z-punctuation z-definition z-compound z-begin z-shell">(</span><span class="z-punctuation z-definition z-compound z-end z-shell">)</span>
</span><span class="z-source z-shell z-bash"><span class="z-meta z-function-call z-shell"><span class="z-variable z-function z-shell">nil</span></span><span class="z-meta z-function-call z-arguments z-shell">	nil</span>
</span><span class="z-source z-shell z-bash"><span class="z-keyword z-operator z-assignment z-redirection z-shell">&gt;</span> f<span class="z-punctuation z-definition z-compound z-begin z-shell">(</span><span class="z-meta z-function-call z-shell"><span class="z-variable z-function z-shell">2</span></span><span class="z-punctuation z-definition z-compound z-end z-shell">)</span>
</span><span class="z-source z-shell z-bash"><span class="z-meta z-function-call z-shell"><span class="z-variable z-function z-shell">2</span></span><span class="z-meta z-function-call z-arguments z-shell">	nil</span>
</span><span class="z-source z-shell z-bash"><span class="z-keyword z-operator z-assignment z-redirection z-shell">&gt;</span> f<span class="z-punctuation z-definition z-compound z-begin z-shell">(</span><span class="z-meta z-function-call z-shell"><span class="z-variable z-function z-shell">2,6</span></span><span class="z-punctuation z-definition z-compound z-end z-shell">)</span>
</span><span class="z-source z-shell z-bash"><span class="z-meta z-function-call z-shell"><span class="z-variable z-function z-shell">2</span></span><span class="z-meta z-function-call z-arguments z-shell">	6</span>
</span><span class="z-source z-shell z-bash"><span class="z-keyword z-operator z-assignment z-redirection z-shell">&gt;</span> f<span class="z-punctuation z-definition z-compound z-begin z-shell">(</span><span class="z-meta z-function-call z-shell"><span class="z-variable z-function z-shell">2,6,8</span></span><span class="z-punctuation z-definition z-compound z-end z-shell">)</span>
</span><span class="z-source z-shell z-bash"><span class="z-meta z-function-call z-shell"><span class="z-variable z-function z-shell">2</span></span><span class="z-meta z-function-call z-arguments z-shell">	6</span>
</span></code></pre>
<p>可变参数</p>
<pre data-lang="bash" class="language-bash z-code"><code class="language-bash" data-lang="bash"><span class="z-source z-shell z-bash"><span class="z-meta z-function-call z-shell"><span class="z-variable z-function z-shell">[root@work</span></span><span class="z-meta z-function-call z-arguments z-shell"> lua_demo]# lua</span>
</span><span class="z-source z-shell z-bash"><span class="z-meta z-function-call z-shell"><span class="z-variable z-function z-shell">Lua</span></span><span class="z-meta z-function-call z-arguments z-shell"> 5.4.6  Copyright (C</span><span class="z-meta z-function-call z-shell"></span>) <span class="z-meta z-function-call z-shell"><span class="z-variable z-function z-shell">1994-2023</span></span><span class="z-meta z-function-call z-arguments z-shell"> Lua.org, PUC-Rio</span>
</span><span class="z-source z-shell z-bash"><span class="z-keyword z-operator z-assignment z-redirection z-shell">&gt;</span> function <span class="z-meta z-function-call z-shell"><span class="z-variable z-function z-shell">add</span></span><span class="z-meta z-function-call z-arguments z-shell">(...</span><span class="z-meta z-function-call z-shell"></span>)
</span><span class="z-source z-shell z-bash"><span class="z-keyword z-operator z-assignment z-redirection z-shell">&gt;&gt;</span> local <span class="z-variable z-other z-readwrite z-assignment z-shell">a,b,c</span><span class="z-keyword z-operator z-assignment z-shell">=</span><span class="z-string z-unquoted z-shell">...</span>                   
</span><span class="z-source z-shell z-bash"><span class="z-keyword z-operator z-assignment z-redirection z-shell">&gt;&gt;</span> print<span class="z-punctuation z-definition z-compound z-begin z-shell">(</span><span class="z-meta z-function-call z-shell"><span class="z-variable z-function z-shell">a,b,c</span></span><span class="z-punctuation z-definition z-compound z-end z-shell">)</span>
</span><span class="z-source z-shell z-bash"><span class="z-keyword z-operator z-assignment z-redirection z-shell">&gt;&gt;</span> end
</span><span class="z-source z-shell z-bash"><span class="z-keyword z-operator z-assignment z-redirection z-shell">&gt;</span> add<span class="z-punctuation z-definition z-compound z-begin z-shell">(</span><span class="z-meta z-function-call z-shell"><span class="z-variable z-function z-shell">1,2,3</span></span><span class="z-punctuation z-definition z-compound z-end z-shell">)</span>
</span><span class="z-source z-shell z-bash"><span class="z-meta z-function-call z-shell"><span class="z-variable z-function z-shell">1</span></span><span class="z-meta z-function-call z-arguments z-shell">	2	3</span>
</span><span class="z-source z-shell z-bash"><span class="z-keyword z-operator z-assignment z-redirection z-shell">&gt;</span> add<span class="z-punctuation z-definition z-compound z-begin z-shell">(</span><span class="z-meta z-function-call z-shell"><span class="z-variable z-function z-shell">1</span></span><span class="z-punctuation z-definition z-compound z-end z-shell">)</span><span class="z-meta z-function-call z-arguments z-shell">  </span>
</span><span class="z-source z-shell z-bash"><span class="z-meta z-function-call z-shell"><span class="z-variable z-function z-shell">1</span></span><span class="z-meta z-function-call z-arguments z-shell">	nil	nil</span>
</span><span class="z-source z-shell z-bash"><span class="z-keyword z-operator z-assignment z-redirection z-shell">&gt;</span> add<span class="z-punctuation z-definition z-compound z-begin z-shell">(</span><span class="z-meta z-function-call z-shell"><span class="z-variable z-function z-shell">1,2,3,4,5,6</span></span><span class="z-punctuation z-definition z-compound z-end z-shell">)</span>
</span><span class="z-source z-shell z-bash"><span class="z-meta z-function-call z-shell"><span class="z-variable z-function z-shell">1</span></span><span class="z-meta z-function-call z-arguments z-shell">	2	3</span>
</span><span class="z-source z-shell z-bash"><span class="z-keyword z-operator z-assignment z-redirection z-shell">&gt;</span> 
</span></code></pre>
<p>返回值</p>
<pre data-lang="bash" class="language-bash z-code"><code class="language-bash" data-lang="bash"><span class="z-source z-shell z-bash"><span class="z-meta z-function-call z-shell"><span class="z-variable z-function z-shell">[root@work</span></span><span class="z-meta z-function-call z-arguments z-shell"> lua_demo]# lua</span>
</span><span class="z-source z-shell z-bash"><span class="z-meta z-function-call z-shell"><span class="z-variable z-function z-shell">Lua</span></span><span class="z-meta z-function-call z-arguments z-shell"> 5.4.6  Copyright (C</span><span class="z-meta z-function-call z-shell"></span>) <span class="z-meta z-function-call z-shell"><span class="z-variable z-function z-shell">1994-2023</span></span><span class="z-meta z-function-call z-arguments z-shell"> Lua.org, PUC-Rio</span>
</span><span class="z-source z-shell z-bash"><span class="z-keyword z-operator z-assignment z-redirection z-shell">&gt;</span> function <span class="z-meta z-function-call z-shell"><span class="z-variable z-function z-shell">add</span></span><span class="z-meta z-function-call z-arguments z-shell">(a,b</span><span class="z-meta z-function-call z-shell"></span>)
</span><span class="z-source z-shell z-bash"><span class="z-keyword z-operator z-assignment z-redirection z-shell">&gt;&gt;</span> return <span class="z-meta z-function-call z-shell"><span class="z-variable z-function z-shell">b,a</span></span>
</span><span class="z-source z-shell z-bash"><span class="z-keyword z-operator z-assignment z-redirection z-shell">&gt;&gt;</span> end
</span><span class="z-source z-shell z-bash"><span class="z-keyword z-operator z-assignment z-redirection z-shell">&gt;</span> x,y=add<span class="z-punctuation z-definition z-compound z-begin z-shell">(</span><span class="z-meta z-function-call z-shell"><span class="z-variable z-function z-shell">100,200</span></span><span class="z-punctuation z-definition z-compound z-end z-shell">)</span>
</span><span class="z-source z-shell z-bash"><span class="z-keyword z-operator z-assignment z-redirection z-shell">&gt;</span> print<span class="z-punctuation z-definition z-compound z-begin z-shell">(</span><span class="z-meta z-function-call z-shell"><span class="z-variable z-function z-shell">y</span></span><span class="z-punctuation z-definition z-compound z-end z-shell">)</span><span class="z-meta z-function-call z-arguments z-shell"> </span>
</span><span class="z-source z-shell z-bash"><span class="z-meta z-function-call z-shell"><span class="z-variable z-function z-shell">100</span></span>
</span><span class="z-source z-shell z-bash"><span class="z-keyword z-operator z-assignment z-redirection z-shell">&gt;</span> print<span class="z-punctuation z-definition z-compound z-begin z-shell">(</span><span class="z-meta z-function-call z-shell"><span class="z-variable z-function z-shell">x</span></span><span class="z-punctuation z-definition z-compound z-end z-shell">)</span>
</span><span class="z-source z-shell z-bash"><span class="z-meta z-function-call z-shell"><span class="z-variable z-function z-shell">200</span></span>
</span><span class="z-source z-shell z-bash"><span class="z-keyword z-operator z-assignment z-redirection z-shell">&gt;</span> 
</span></code></pre>
<h3 id="kong-zhi-jie-gou">控制结构</h3>
<p>Lua语言提供了一组精简且常用的控制结构，包括用于条件执行的if以及用户循环的while、repeat和for。所有的控制语法上都有一个显示的终结符：end用于中介if、for以及while结构，until用于中介repeat结构。</p>
<h4 id="ifyu-ju">if语句</h4>
<p>if语句先测试其条件，并根据条件是否满足执行响应的then部分或else部分。else部分是可选的。</p>
<pre data-lang="bash" class="language-bash z-code"><code class="language-bash" data-lang="bash"><span class="z-source z-shell z-bash"><span class="z-meta z-function-call z-shell"><span class="z-variable z-function z-shell">[root@work</span></span><span class="z-meta z-function-call z-arguments z-shell"> lua_demo]# lua</span>
</span><span class="z-source z-shell z-bash"><span class="z-meta z-function-call z-shell"><span class="z-variable z-function z-shell">Lua</span></span><span class="z-meta z-function-call z-arguments z-shell"> 5.4.6  Copyright (C</span><span class="z-meta z-function-call z-shell"></span>) <span class="z-meta z-function-call z-shell"><span class="z-variable z-function z-shell">1994-2023</span></span><span class="z-meta z-function-call z-arguments z-shell"> Lua.org, PUC-Rio</span>
</span><span class="z-source z-shell z-bash"><span class="z-keyword z-operator z-assignment z-redirection z-shell">&gt;</span> function <span class="z-meta z-function-call z-shell"><span class="z-variable z-function z-shell">testif</span></span><span class="z-meta z-function-call z-arguments z-shell">(a</span><span class="z-meta z-function-call z-shell"></span>)
</span><span class="z-source z-shell z-bash"><span class="z-keyword z-operator z-assignment z-redirection z-shell">&gt;&gt;</span> if <span class="z-meta z-function-call z-shell"><span class="z-variable z-function z-shell">a</span></span><span class="z-meta z-function-call z-arguments z-shell"><span class="z-keyword z-operator z-assignment z-redirection z-shell">&gt;</span><span class="z-constant z-numeric z-integer z-decimal z-file-descriptor z-shell">0</span> then</span>
</span><span class="z-source z-shell z-bash"><span class="z-keyword z-operator z-assignment z-redirection z-shell">&gt;&gt;</span> print<span class="z-punctuation z-definition z-compound z-begin z-shell">(</span><span class="z-meta z-function-call z-shell"><span class="z-variable z-function z-shell"><span class="z-string z-quoted z-double z-shell"><span class="z-punctuation z-definition z-string z-begin z-shell">&quot;</span>a是正数<span class="z-punctuation z-definition z-string z-end z-shell">&quot;</span></span></span></span><span class="z-punctuation z-definition z-compound z-end z-shell">)</span>
</span><span class="z-source z-shell z-bash"><span class="z-keyword z-operator z-assignment z-redirection z-shell">&gt;&gt;</span> end
</span><span class="z-source z-shell z-bash"><span class="z-keyword z-operator z-assignment z-redirection z-shell">&gt;&gt;</span> end
</span><span class="z-source z-shell z-bash"><span class="z-keyword z-operator z-assignment z-redirection z-shell">&gt;</span> testif<span class="z-punctuation z-definition z-compound z-begin z-shell">(</span><span class="z-meta z-function-call z-shell"><span class="z-variable z-function z-shell">2</span></span><span class="z-punctuation z-definition z-compound z-end z-shell">)</span><span class="z-meta z-function-call z-arguments z-shell">   </span>
</span><span class="z-source z-shell z-bash"><span class="z-meta z-function-call z-shell"><span class="z-variable z-function z-shell">a是正数</span></span>
</span><span class="z-source z-shell z-bash"><span class="z-keyword z-operator z-assignment z-redirection z-shell">&gt;</span> testif<span class="z-punctuation z-definition z-compound z-begin z-shell">(</span><span class="z-meta z-function-call z-shell"><span class="z-variable z-function z-shell">1</span></span><span class="z-punctuation z-definition z-compound z-end z-shell">)</span>
</span><span class="z-source z-shell z-bash"><span class="z-meta z-function-call z-shell"><span class="z-variable z-function z-shell">a是正数</span></span>
</span><span class="z-source z-shell z-bash"><span class="z-keyword z-operator z-assignment z-redirection z-shell">&gt;</span> testif<span class="z-punctuation z-definition z-compound z-begin z-shell">(</span><span class="z-meta z-function-call z-shell"><span class="z-variable z-function z-shell">-1</span></span><span class="z-punctuation z-definition z-compound z-end z-shell">)</span>
</span><span class="z-source z-shell z-bash"><span class="z-keyword z-operator z-assignment z-redirection z-shell">&gt;</span> function <span class="z-meta z-function-call z-shell"><span class="z-variable z-function z-shell">testif</span></span><span class="z-meta z-function-call z-arguments z-shell">(a</span><span class="z-meta z-function-call z-shell"></span>)
</span><span class="z-source z-shell z-bash"><span class="z-keyword z-operator z-assignment z-redirection z-shell">&gt;&gt;</span> if <span class="z-meta z-function-call z-shell"><span class="z-variable z-function z-shell">a</span></span><span class="z-meta z-function-call z-arguments z-shell"><span class="z-keyword z-operator z-assignment z-redirection z-shell">&gt;</span><span class="z-constant z-numeric z-integer z-decimal z-file-descriptor z-shell">0</span> then</span>
</span><span class="z-source z-shell z-bash"><span class="z-keyword z-operator z-assignment z-redirection z-shell">&gt;&gt;</span> print<span class="z-punctuation z-definition z-compound z-begin z-shell">(</span><span class="z-meta z-function-call z-shell"><span class="z-variable z-function z-shell"><span class="z-string z-quoted z-double z-shell"><span class="z-punctuation z-definition z-string z-begin z-shell">&quot;</span>a是正数<span class="z-punctuation z-definition z-string z-end z-shell">&quot;</span></span></span></span><span class="z-punctuation z-definition z-compound z-end z-shell">)</span>
</span><span class="z-source z-shell z-bash"><span class="z-keyword z-operator z-assignment z-redirection z-shell">&gt;&gt;</span> else
</span><span class="z-source z-shell z-bash"><span class="z-keyword z-operator z-assignment z-redirection z-shell">&gt;&gt;</span> print<span class="z-punctuation z-definition z-compound z-begin z-shell">(</span><span class="z-meta z-function-call z-shell"><span class="z-variable z-function z-shell"><span class="z-string z-quoted z-double z-shell"><span class="z-punctuation z-definition z-string z-begin z-shell">&quot;</span>a是负数<span class="z-punctuation z-definition z-string z-end z-shell">&quot;</span></span></span></span><span class="z-punctuation z-definition z-compound z-end z-shell">)</span>
</span><span class="z-source z-shell z-bash"><span class="z-keyword z-operator z-assignment z-redirection z-shell">&gt;&gt;</span> end
</span><span class="z-source z-shell z-bash"><span class="z-keyword z-operator z-assignment z-redirection z-shell">&gt;&gt;</span> end
</span><span class="z-source z-shell z-bash"><span class="z-keyword z-operator z-assignment z-redirection z-shell">&gt;</span> testif<span class="z-punctuation z-definition z-compound z-begin z-shell">(</span><span class="z-meta z-function-call z-shell"><span class="z-variable z-function z-shell">1</span></span><span class="z-punctuation z-definition z-compound z-end z-shell">)</span><span class="z-meta z-function-call z-arguments z-shell"> </span>
</span><span class="z-source z-shell z-bash"><span class="z-meta z-function-call z-shell"><span class="z-variable z-function z-shell">a是正数</span></span>
</span><span class="z-source z-shell z-bash"><span class="z-keyword z-operator z-assignment z-redirection z-shell">&gt;</span> testif<span class="z-punctuation z-definition z-compound z-begin z-shell">(</span><span class="z-meta z-function-call z-shell"><span class="z-variable z-function z-shell">-1</span></span><span class="z-punctuation z-definition z-compound z-end z-shell">)</span>
</span><span class="z-source z-shell z-bash"><span class="z-meta z-function-call z-shell"><span class="z-variable z-function z-shell">a是负数</span></span>
</span><span class="z-source z-shell z-bash"><span class="z-keyword z-operator z-assignment z-redirection z-shell">&gt;</span> 
</span></code></pre>
<p>嵌套IF相关案例如下</p>
<pre data-lang="bash" class="language-bash z-code"><code class="language-bash" data-lang="bash"><span class="z-source z-shell z-bash"><span class="z-meta z-function-call z-shell"><span class="z-variable z-function z-shell">[root@work</span></span><span class="z-meta z-function-call z-arguments z-shell"> lua_demo]# lua</span>
</span><span class="z-source z-shell z-bash"><span class="z-meta z-function-call z-shell"><span class="z-variable z-function z-shell">Lua</span></span><span class="z-meta z-function-call z-arguments z-shell"> 5.4.6  Copyright (C</span><span class="z-meta z-function-call z-shell"></span>) <span class="z-meta z-function-call z-shell"><span class="z-variable z-function z-shell">1994-2023</span></span><span class="z-meta z-function-call z-arguments z-shell"> Lua.org, PUC-Rio</span>
</span><span class="z-source z-shell z-bash"><span class="z-keyword z-operator z-assignment z-redirection z-shell">&gt;</span> function <span class="z-meta z-function-call z-shell"><span class="z-variable z-function z-shell">show</span></span><span class="z-meta z-function-call z-arguments z-shell">(age</span><span class="z-meta z-function-call z-shell"></span>)    
</span><span class="z-source z-shell z-bash"><span class="z-keyword z-operator z-assignment z-redirection z-shell">&gt;&gt;</span> if <span class="z-meta z-function-call z-shell"><span class="z-variable z-function z-shell">age</span></span><span class="z-meta z-function-call z-arguments z-shell"> <span class="z-keyword z-operator z-assignment z-redirection z-shell">&lt;</span>= 18 then</span>
</span><span class="z-source z-shell z-bash"><span class="z-keyword z-operator z-assignment z-redirection z-shell">&gt;&gt;</span> return <span class="z-meta z-function-call z-shell"><span class="z-variable z-function z-shell"><span class="z-string z-quoted z-double z-shell"><span class="z-punctuation z-definition z-string z-begin z-shell">&quot;</span>qingshaonian<span class="z-punctuation z-definition z-string z-end z-shell">&quot;</span></span></span></span><span class="z-meta z-function-call z-arguments z-shell"> </span>
</span><span class="z-source z-shell z-bash"><span class="z-keyword z-operator z-assignment z-redirection z-shell">&gt;&gt;</span> elseif <span class="z-meta z-function-call z-shell"><span class="z-variable z-function z-shell">age</span></span><span class="z-meta z-function-call z-arguments z-shell"><span class="z-keyword z-operator z-assignment z-redirection z-shell">&gt;</span><span class="z-constant z-numeric z-integer z-decimal z-file-descriptor z-shell">18</span> and age <span class="z-keyword z-operator z-assignment z-redirection z-shell">&lt;</span>=45 then</span>
</span><span class="z-source z-shell z-bash"><span class="z-keyword z-operator z-assignment z-redirection z-shell">&gt;&gt;</span> return <span class="z-meta z-function-call z-shell"><span class="z-variable z-function z-shell"><span class="z-string z-quoted z-double z-shell"><span class="z-punctuation z-definition z-string z-begin z-shell">&quot;</span>qingnian<span class="z-punctuation z-definition z-string z-end z-shell">&quot;</span></span></span></span>
</span><span class="z-source z-shell z-bash"><span class="z-keyword z-operator z-assignment z-redirection z-shell">&gt;&gt;</span> elseif <span class="z-meta z-function-call z-shell"><span class="z-variable z-function z-shell">age</span></span><span class="z-meta z-function-call z-arguments z-shell"><span class="z-keyword z-operator z-assignment z-redirection z-shell">&gt;</span><span class="z-constant z-numeric z-integer z-decimal z-file-descriptor z-shell">45</span> and age <span class="z-keyword z-operator z-assignment z-redirection z-shell">&lt;</span>=60 then</span>
</span><span class="z-source z-shell z-bash"><span class="z-keyword z-operator z-assignment z-redirection z-shell">&gt;&gt;</span> return <span class="z-meta z-function-call z-shell"><span class="z-variable z-function z-shell"><span class="z-string z-quoted z-double z-shell"><span class="z-punctuation z-definition z-string z-begin z-shell">&quot;</span>zhongnianren<span class="z-punctuation z-definition z-string z-end z-shell">&quot;</span></span></span></span>
</span><span class="z-source z-shell z-bash"><span class="z-keyword z-operator z-assignment z-redirection z-shell">&gt;&gt;</span> else
</span><span class="z-source z-shell z-bash"><span class="z-keyword z-operator z-assignment z-redirection z-shell">&gt;&gt;</span> return <span class="z-meta z-function-call z-shell"><span class="z-variable z-function z-shell"><span class="z-string z-quoted z-double z-shell"><span class="z-punctuation z-definition z-string z-begin z-shell">&quot;</span>laonianren<span class="z-punctuation z-definition z-string z-end z-shell">&quot;</span></span></span></span><span class="z-meta z-function-call z-arguments z-shell"> </span>
</span><span class="z-source z-shell z-bash"><span class="z-keyword z-operator z-assignment z-redirection z-shell">&gt;&gt;</span> end
</span><span class="z-source z-shell z-bash"><span class="z-keyword z-operator z-assignment z-redirection z-shell">&gt;&gt;</span> end
</span><span class="z-source z-shell z-bash"><span class="z-keyword z-operator z-assignment z-redirection z-shell">&gt;</span> print<span class="z-punctuation z-definition z-compound z-begin z-shell">(</span><span class="z-meta z-function-call z-shell"><span class="z-variable z-function z-shell">show</span></span><span class="z-meta z-function-call z-arguments z-shell">(17</span><span class="z-punctuation z-definition z-compound z-end z-shell">)</span><span class="z-meta z-function-call z-shell"></span>)              
</span><span class="z-source z-shell z-bash"><span class="z-meta z-function-call z-shell"><span class="z-variable z-function z-shell">qingshaonian</span></span>
</span><span class="z-source z-shell z-bash"><span class="z-keyword z-operator z-assignment z-redirection z-shell">&gt;</span> print<span class="z-punctuation z-definition z-compound z-begin z-shell">(</span><span class="z-meta z-function-call z-shell"><span class="z-variable z-function z-shell">show</span></span><span class="z-meta z-function-call z-arguments z-shell">(19</span><span class="z-punctuation z-definition z-compound z-end z-shell">)</span><span class="z-meta z-function-call z-shell"></span>)
</span><span class="z-source z-shell z-bash"><span class="z-meta z-function-call z-shell"><span class="z-variable z-function z-shell">qingnian</span></span>
</span><span class="z-source z-shell z-bash"><span class="z-keyword z-operator z-assignment z-redirection z-shell">&gt;</span> print<span class="z-punctuation z-definition z-compound z-begin z-shell">(</span><span class="z-meta z-function-call z-shell"><span class="z-variable z-function z-shell">show</span></span><span class="z-meta z-function-call z-arguments z-shell">(56</span><span class="z-punctuation z-definition z-compound z-end z-shell">)</span><span class="z-meta z-function-call z-shell"></span>)
</span><span class="z-source z-shell z-bash"><span class="z-meta z-function-call z-shell"><span class="z-variable z-function z-shell">zhongnianren</span></span>
</span><span class="z-source z-shell z-bash"><span class="z-keyword z-operator z-assignment z-redirection z-shell">&gt;</span> print<span class="z-punctuation z-definition z-compound z-begin z-shell">(</span><span class="z-meta z-function-call z-shell"><span class="z-variable z-function z-shell">show</span></span><span class="z-meta z-function-call z-arguments z-shell">(80</span><span class="z-punctuation z-definition z-compound z-end z-shell">)</span><span class="z-meta z-function-call z-shell"></span>)
</span><span class="z-source z-shell z-bash"><span class="z-meta z-function-call z-shell"><span class="z-variable z-function z-shell">laonianren</span></span>
</span></code></pre>
<h4 id="whilexun-huan">while循环</h4>
<p>语法如下</p>
<pre data-lang="lua" class="language-lua z-code"><code class="language-lua" data-lang="lua"><span class="z-source z-lua"><span class="z-keyword z-control z-loop z-lua">while</span> 条件 <span class="z-meta z-block z-lua"><span class="z-keyword z-control z-lua">do</span>
</span></span><span class="z-source z-lua"><span class="z-meta z-block z-lua">	循环体
</span></span><span class="z-source z-lua"><span class="z-meta z-block z-lua"><span class="z-keyword z-control z-end z-lua">end</span></span>
</span></code></pre>
<p>案例</p>
<pre data-lang="bash" class="language-bash z-code"><code class="language-bash" data-lang="bash"><span class="z-source z-shell z-bash"><span class="z-meta z-function-call z-shell"><span class="z-variable z-function z-shell">[root@work</span></span><span class="z-meta z-function-call z-arguments z-shell"> lua_demo]# lua</span>
</span><span class="z-source z-shell z-bash"><span class="z-meta z-function-call z-shell"><span class="z-variable z-function z-shell">Lua</span></span><span class="z-meta z-function-call z-arguments z-shell"> 5.4.6  Copyright (C</span><span class="z-meta z-function-call z-shell"></span>) <span class="z-meta z-function-call z-shell"><span class="z-variable z-function z-shell">1994-2023</span></span><span class="z-meta z-function-call z-arguments z-shell"> Lua.org, PUC-Rio</span>
</span><span class="z-source z-shell z-bash"><span class="z-keyword z-operator z-assignment z-redirection z-shell">&gt;</span> function<span class="z-meta z-function z-shell"> <span class="z-entity z-name z-function z-shell">testwhile</span><span class="z-punctuation z-section z-parens z-begin z-shell">(</span><span class="z-punctuation z-section z-parens z-end z-shell">)</span>
</span></span><span class="z-source z-shell z-bash"><span class="z-meta z-function z-shell">&gt;&gt; local i=1
</span></span><span class="z-source z-shell z-bash"><span class="z-meta z-function z-shell">&gt;&gt; while i&lt;=10 do
</span></span><span class="z-source z-shell z-bash"><span class="z-meta z-function z-shell">&gt;&gt; print<span class="z-punctuation z-definition z-compound z-begin z-shell">(</span><span class="z-meta z-function-call z-shell"><span class="z-variable z-function z-shell">i</span></span><span class="z-punctuation z-definition z-compound z-end z-shell">)</span></span>
</span><span class="z-source z-shell z-bash"><span class="z-keyword z-operator z-assignment z-redirection z-shell">&gt;&gt;</span> i=i+1
</span><span class="z-source z-shell z-bash"><span class="z-keyword z-operator z-assignment z-redirection z-shell">&gt;&gt;</span> end
</span><span class="z-source z-shell z-bash"><span class="z-keyword z-operator z-assignment z-redirection z-shell">&gt;&gt;</span> end
</span><span class="z-source z-shell z-bash"><span class="z-keyword z-operator z-assignment z-redirection z-shell">&gt;</span> testwhile<span class="z-punctuation z-definition z-compound z-begin z-shell">(</span><span class="z-punctuation z-definition z-compound z-end z-shell">)</span>
</span><span class="z-source z-shell z-bash"><span class="z-meta z-function-call z-shell"><span class="z-variable z-function z-shell">1</span></span>
</span><span class="z-source z-shell z-bash"><span class="z-meta z-function-call z-shell"><span class="z-variable z-function z-shell">2</span></span>
</span><span class="z-source z-shell z-bash"><span class="z-meta z-function-call z-shell"><span class="z-variable z-function z-shell">3</span></span>
</span><span class="z-source z-shell z-bash"><span class="z-meta z-function-call z-shell"><span class="z-variable z-function z-shell">4</span></span>
</span><span class="z-source z-shell z-bash"><span class="z-meta z-function-call z-shell"><span class="z-variable z-function z-shell">5</span></span>
</span><span class="z-source z-shell z-bash"><span class="z-meta z-function-call z-shell"><span class="z-variable z-function z-shell">6</span></span>
</span><span class="z-source z-shell z-bash"><span class="z-meta z-function-call z-shell"><span class="z-variable z-function z-shell">7</span></span>
</span><span class="z-source z-shell z-bash"><span class="z-meta z-function-call z-shell"><span class="z-variable z-function z-shell">8</span></span>
</span><span class="z-source z-shell z-bash"><span class="z-meta z-function-call z-shell"><span class="z-variable z-function z-shell">9</span></span>
</span><span class="z-source z-shell z-bash"><span class="z-meta z-function-call z-shell"><span class="z-variable z-function z-shell">10</span></span>
</span></code></pre>
<h4 id="repeatxun-huan">repeat循环</h4>
<p>repeat-until语句回重复执行其循环体直到条件为真时结束。由于条件测试在循环体之后执行，所以至少会循环执行一次。
语法如下</p>
<pre data-lang="lua" class="language-lua z-code"><code class="language-lua" data-lang="lua"><span class="z-source z-lua"><span class="z-meta z-block z-lua"><span class="z-keyword z-control z-loop z-lua">repeat</span>
</span></span><span class="z-source z-lua"><span class="z-meta z-block z-lua">	循环体
</span></span><span class="z-source z-lua"><span class="z-meta z-block z-lua"></span><span class="z-keyword z-control z-loop z-lua">until</span> 条件
</span></code></pre>
<p>案例如下</p>
<pre data-lang="lua" class="language-lua z-code"><code class="language-lua" data-lang="lua"><span class="z-source z-lua"><span class="z-meta z-brackets z-lua"><span class="z-punctuation z-section z-brackets z-begin z-lua">[</span><span class="z-variable z-other z-lua">root</span>@<span class="z-variable z-other z-lua">work</span> <span class="z-variable z-other z-lua">lua_demo</span><span class="z-punctuation z-section z-brackets z-end z-lua">]</span></span><span class="z-keyword z-operator z-length z-lua">#</span> <span class="z-variable z-other z-lua">lua</span>
</span><span class="z-source z-lua"><span class="z-variable z-other z-lua">Lua</span> <span class="z-constant z-numeric z-float z-decimal z-lua">5<span class="z-punctuation z-separator z-decimal z-lua">.</span>4</span><span class="z-punctuation z-accessor z-lua">.</span><span class="z-constant z-numeric z-integer z-decimal z-lua">6</span>  <span class="z-variable z-function z-lua">Copyright</span> <span class="z-meta z-function-call z-arguments z-lua"><span class="z-meta z-group z-lua"><span class="z-punctuation z-section z-group z-begin z-lua">(</span><span class="z-variable z-other z-lua">C</span><span class="z-punctuation z-section z-group z-end z-lua">)</span></span></span> <span class="z-constant z-numeric z-integer z-decimal z-lua">1994</span><span class="z-keyword z-operator z-arithmetic z-lua">-</span><span class="z-constant z-numeric z-integer z-decimal z-lua">2023</span> <span class="z-variable z-other z-lua">Lua</span><span class="z-punctuation z-accessor z-lua">.</span><span class="z-meta z-property z-lua">org</span>, <span class="z-variable z-other z-lua">PUC</span><span class="z-keyword z-operator z-arithmetic z-lua">-</span><span class="z-variable z-other z-lua">Rio</span>
</span><span class="z-source z-lua"><span class="z-keyword z-operator z-comparison z-lua">&gt;</span> <span class="z-meta z-function z-lua"><span class="z-meta z-block z-lua"><span class="z-storage z-type z-function z-lua">function</span> <span class="z-meta z-name z-function"><span class="z-entity z-name z-function z-lua">testRepeat</span></span><span class="z-meta z-group z-lua"><span class="z-punctuation z-section z-group z-begin z-lua">(</span><span class="z-punctuation z-section z-group z-end z-lua">)</span></span>
</span></span></span><span class="z-source z-lua"><span class="z-meta z-function z-lua"><span class="z-meta z-block z-lua"><span class="z-keyword z-operator z-bitwise z-lua">&gt;&gt;</span> <span class="z-storage z-modifier z-lua">local</span> <span class="z-variable z-other z-lua">i</span> <span class="z-keyword z-operator z-assignment z-lua">=</span> <span class="z-constant z-numeric z-integer z-decimal z-lua">10</span>
</span></span></span><span class="z-source z-lua"><span class="z-meta z-function z-lua"><span class="z-meta z-block z-lua"><span class="z-keyword z-operator z-bitwise z-lua">&gt;&gt;</span> <span class="z-meta z-block z-lua"><span class="z-keyword z-control z-loop z-lua">repeat</span>
</span></span></span></span><span class="z-source z-lua"><span class="z-meta z-function z-lua"><span class="z-meta z-block z-lua"><span class="z-meta z-block z-lua"><span class="z-keyword z-operator z-bitwise z-lua">&gt;&gt;</span> <span class="z-support z-function z-builtin z-lua">print</span><span class="z-meta z-function-call z-arguments z-lua"><span class="z-meta z-group z-lua"><span class="z-punctuation z-section z-group z-begin z-lua">(</span><span class="z-variable z-other z-lua">i</span><span class="z-punctuation z-section z-group z-end z-lua">)</span></span></span>
</span></span></span></span><span class="z-source z-lua"><span class="z-meta z-function z-lua"><span class="z-meta z-block z-lua"><span class="z-meta z-block z-lua"><span class="z-keyword z-operator z-bitwise z-lua">&gt;&gt;</span> <span class="z-variable z-other z-lua">i</span><span class="z-keyword z-operator z-assignment z-lua">=</span><span class="z-variable z-other z-lua">i</span><span class="z-keyword z-operator z-arithmetic z-lua">-</span><span class="z-constant z-numeric z-integer z-decimal z-lua">1</span>
</span></span></span></span><span class="z-source z-lua"><span class="z-meta z-function z-lua"><span class="z-meta z-block z-lua"><span class="z-meta z-block z-lua"><span class="z-keyword z-operator z-bitwise z-lua">&gt;&gt;</span> </span><span class="z-keyword z-control z-loop z-lua">until</span> <span class="z-variable z-other z-lua">i</span> <span class="z-keyword z-operator z-comparison z-lua">&lt;</span> <span class="z-constant z-numeric z-integer z-decimal z-lua">1</span>
</span></span></span><span class="z-source z-lua"><span class="z-meta z-function z-lua"><span class="z-meta z-block z-lua"><span class="z-keyword z-operator z-bitwise z-lua">&gt;&gt;</span> <span class="z-keyword z-control z-end z-lua">end</span></span></span>
</span><span class="z-source z-lua"><span class="z-keyword z-operator z-comparison z-lua">&gt;</span> <span class="z-variable z-function z-lua">testRepeat</span><span class="z-meta z-function-call z-arguments z-lua"><span class="z-meta z-group z-lua"><span class="z-punctuation z-section z-group z-begin z-lua">(</span><span class="z-punctuation z-section z-group z-end z-lua">)</span></span></span>
</span><span class="z-source z-lua"><span class="z-constant z-numeric z-integer z-decimal z-lua">10</span>
</span><span class="z-source z-lua"><span class="z-constant z-numeric z-integer z-decimal z-lua">9</span>
</span><span class="z-source z-lua"><span class="z-constant z-numeric z-integer z-decimal z-lua">8</span>
</span><span class="z-source z-lua"><span class="z-constant z-numeric z-integer z-decimal z-lua">7</span>
</span><span class="z-source z-lua"><span class="z-constant z-numeric z-integer z-decimal z-lua">6</span>
</span><span class="z-source z-lua"><span class="z-constant z-numeric z-integer z-decimal z-lua">5</span>
</span><span class="z-source z-lua"><span class="z-constant z-numeric z-integer z-decimal z-lua">4</span>
</span><span class="z-source z-lua"><span class="z-constant z-numeric z-integer z-decimal z-lua">3</span>
</span><span class="z-source z-lua"><span class="z-constant z-numeric z-integer z-decimal z-lua">2</span>
</span><span class="z-source z-lua"><span class="z-constant z-numeric z-integer z-decimal z-lua">1</span>
</span></code></pre>
<h4 id="forxun-huan">for循环</h4>
<h6 id="shu-zhi-xing">数值型</h6>
<p>语法如下</p>
<pre data-lang="lua" class="language-lua z-code"><code class="language-lua" data-lang="lua"><span class="z-source z-lua"><span class="z-keyword z-control z-loop z-lua">for</span> <span class="z-variable z-other z-lua">param</span><span class="z-keyword z-operator z-assignment z-lua">=</span><span class="z-variable z-other z-lua">exp1</span><span class="z-punctuation z-separator z-comma z-lua">,</span><span class="z-variable z-other z-lua">exp2</span><span class="z-punctuation z-separator z-comma z-lua">,</span><span class="z-variable z-other z-lua">exp3</span> <span class="z-meta z-block z-lua"><span class="z-keyword z-control z-lua">do</span>
</span></span><span class="z-source z-lua"><span class="z-meta z-block z-lua">	循环体
</span></span><span class="z-source z-lua"><span class="z-meta z-block z-lua"><span class="z-keyword z-control z-end z-lua">end</span></span>
</span></code></pre>
<p>param的值从exp1变化到exp2之前的每次循环会执行循环体，并在每次循环结束的时候步长，和python的for差不多。
案例如下</p>
<pre data-lang="bash" class="language-bash z-code"><code class="language-bash" data-lang="bash"><span class="z-source z-shell z-bash"><span class="z-meta z-function-call z-shell"><span class="z-variable z-function z-shell">[root@work</span></span><span class="z-meta z-function-call z-arguments z-shell"> lua_demo]# lua</span>
</span><span class="z-source z-shell z-bash"><span class="z-meta z-function-call z-shell"><span class="z-variable z-function z-shell">Lua</span></span><span class="z-meta z-function-call z-arguments z-shell"> 5.4.6  Copyright (C</span><span class="z-meta z-function-call z-shell"></span>) <span class="z-meta z-function-call z-shell"><span class="z-variable z-function z-shell">1994-2023</span></span><span class="z-meta z-function-call z-arguments z-shell"> Lua.org, PUC-Rio</span>
</span><span class="z-source z-shell z-bash"><span class="z-keyword z-operator z-assignment z-redirection z-shell">&gt;</span> for <span class="z-meta z-function-call z-shell"><span class="z-variable z-function z-shell">i</span></span><span class="z-meta z-function-call z-arguments z-shell"> = 1,100,10 do </span>
</span><span class="z-source z-shell z-bash"><span class="z-keyword z-operator z-assignment z-redirection z-shell">&gt;&gt;</span> print<span class="z-punctuation z-definition z-compound z-begin z-shell">(</span><span class="z-meta z-function-call z-shell"><span class="z-variable z-function z-shell">i</span></span><span class="z-punctuation z-definition z-compound z-end z-shell">)</span>
</span><span class="z-source z-shell z-bash"><span class="z-keyword z-operator z-assignment z-redirection z-shell">&gt;&gt;</span> end
</span><span class="z-source z-shell z-bash"><span class="z-meta z-function-call z-shell"><span class="z-variable z-function z-shell">1</span></span>
</span><span class="z-source z-shell z-bash"><span class="z-meta z-function-call z-shell"><span class="z-variable z-function z-shell">11</span></span>
</span><span class="z-source z-shell z-bash"><span class="z-meta z-function-call z-shell"><span class="z-variable z-function z-shell">21</span></span>
</span><span class="z-source z-shell z-bash"><span class="z-meta z-function-call z-shell"><span class="z-variable z-function z-shell">31</span></span>
</span><span class="z-source z-shell z-bash"><span class="z-meta z-function-call z-shell"><span class="z-variable z-function z-shell">41</span></span>
</span><span class="z-source z-shell z-bash"><span class="z-meta z-function-call z-shell"><span class="z-variable z-function z-shell">51</span></span>
</span><span class="z-source z-shell z-bash"><span class="z-meta z-function-call z-shell"><span class="z-variable z-function z-shell">61</span></span>
</span><span class="z-source z-shell z-bash"><span class="z-meta z-function-call z-shell"><span class="z-variable z-function z-shell">71</span></span>
</span><span class="z-source z-shell z-bash"><span class="z-meta z-function-call z-shell"><span class="z-variable z-function z-shell">81</span></span>
</span><span class="z-source z-shell z-bash"><span class="z-meta z-function-call z-shell"><span class="z-variable z-function z-shell">91</span></span>
</span></code></pre>
<h6 id="fan-xing">泛型</h6>
<p>泛型for循环是通过一个迭代器函数来遍历所有的值，类似于java中的foreach语句
语法</p>
<pre data-lang="lua" class="language-lua z-code"><code class="language-lua" data-lang="lua"><span class="z-source z-lua"><span class="z-keyword z-control z-loop z-lua">for</span> <span class="z-variable z-other z-lua">i</span><span class="z-punctuation z-separator z-comma z-lua">,</span><span class="z-variable z-other z-lua">v</span> <span class="z-keyword z-control z-loop z-lua">in</span> <span class="z-support z-function z-builtin z-lua">ipairs</span><span class="z-meta z-function-call z-arguments z-lua"><span class="z-meta z-group z-lua"><span class="z-punctuation z-section z-group z-begin z-lua">(</span><span class="z-variable z-other z-lua">x</span><span class="z-punctuation z-section z-group z-end z-lua">)</span></span></span> <span class="z-meta z-block z-lua"><span class="z-keyword z-control z-lua">do</span>
</span></span><span class="z-source z-lua"><span class="z-meta z-block z-lua">	循环体
</span></span><span class="z-source z-lua"><span class="z-meta z-block z-lua"><span class="z-keyword z-control z-end z-lua">end</span></span>
</span></code></pre>
<p>i是数组索引，v是对应索引的数组元素值，ipairs是Lua提供的一个迭代器函数，用来迭代数组，x是要遍历的数组。只后pairs也是Lua提供的夜歌迭代函数，他和ipairs的区别是pairs可以迭代一些指定键的table。
案例如下</p>
<pre data-lang="bash" class="language-bash z-code"><code class="language-bash" data-lang="bash"><span class="z-source z-shell z-bash"><span class="z-meta z-function-call z-shell"><span class="z-variable z-function z-shell">[root@work</span></span><span class="z-meta z-function-call z-arguments z-shell"> lua_demo]# lua</span>
</span><span class="z-source z-shell z-bash"><span class="z-meta z-function-call z-shell"><span class="z-variable z-function z-shell">Lua</span></span><span class="z-meta z-function-call z-arguments z-shell"> 5.4.6  Copyright (C</span><span class="z-meta z-function-call z-shell"></span>) <span class="z-meta z-function-call z-shell"><span class="z-variable z-function z-shell">1994-2023</span></span><span class="z-meta z-function-call z-arguments z-shell"> Lua.org, PUC-Rio</span>
</span><span class="z-source z-shell z-bash"><span class="z-keyword z-operator z-assignment z-redirection z-shell">&gt;</span> arr <span class="z-keyword z-operator z-assignment z-shell">=</span> <span class="z-meta z-function-call z-shell"><span class="z-variable z-function z-shell">{<span class="z-string z-quoted z-double z-shell"><span class="z-punctuation z-definition z-string z-begin z-shell">&quot;</span>TOME<span class="z-punctuation z-definition z-string z-end z-shell">&quot;</span></span>,<span class="z-string z-quoted z-double z-shell"><span class="z-punctuation z-definition z-string z-begin z-shell">&quot;</span>JERRY<span class="z-punctuation z-definition z-string z-end z-shell">&quot;</span></span>,<span class="z-string z-quoted z-double z-shell"><span class="z-punctuation z-definition z-string z-begin z-shell">&quot;</span>ROWS<span class="z-punctuation z-definition z-string z-end z-shell">&quot;</span></span>,<span class="z-string z-quoted z-double z-shell"><span class="z-punctuation z-definition z-string z-begin z-shell">&quot;</span>LUCY<span class="z-punctuation z-definition z-string z-end z-shell">&quot;</span></span></span></span><span class="z-meta z-function-call z-shell"></span>}
</span><span class="z-source z-shell z-bash"><span class="z-keyword z-operator z-assignment z-redirection z-shell">&gt;</span> for <span class="z-meta z-function-call z-shell"><span class="z-variable z-function z-shell">i,v</span></span><span class="z-meta z-function-call z-arguments z-shell"> in ipairs(arr</span><span class="z-meta z-function-call z-shell"></span>) <span class="z-keyword z-control z-loop z-do z-shell">do</span>
</span><span class="z-source z-shell z-bash"><span class="z-keyword z-operator z-assignment z-redirection z-shell">&gt;&gt;</span> print<span class="z-punctuation z-definition z-compound z-begin z-shell">(</span><span class="z-meta z-function-call z-shell"><span class="z-variable z-function z-shell">i,v</span></span><span class="z-punctuation z-definition z-compound z-end z-shell">)</span>
</span><span class="z-source z-shell z-bash"><span class="z-keyword z-operator z-assignment z-redirection z-shell">&gt;&gt;</span> end
</span><span class="z-source z-shell z-bash"><span class="z-meta z-function-call z-shell"><span class="z-variable z-function z-shell">1</span></span><span class="z-meta z-function-call z-arguments z-shell">	TOME</span>
</span><span class="z-source z-shell z-bash"><span class="z-meta z-function-call z-shell"><span class="z-variable z-function z-shell">2</span></span><span class="z-meta z-function-call z-arguments z-shell">	JERRY</span>
</span><span class="z-source z-shell z-bash"><span class="z-meta z-function-call z-shell"><span class="z-variable z-function z-shell">3</span></span><span class="z-meta z-function-call z-arguments z-shell">	ROWS</span>
</span><span class="z-source z-shell z-bash"><span class="z-meta z-function-call z-shell"><span class="z-variable z-function z-shell">4</span></span><span class="z-meta z-function-call z-arguments z-shell">	LUCY</span>
</span><span class="z-source z-shell z-bash"><span class="z-meta z-function-call z-shell"><span class="z-variable z-function z-shell">[root@work</span></span><span class="z-meta z-function-call z-arguments z-shell"> lua_demo]# lua</span>
</span><span class="z-source z-shell z-bash"><span class="z-meta z-function-call z-shell"><span class="z-variable z-function z-shell">Lua</span></span><span class="z-meta z-function-call z-arguments z-shell"> 5.4.6  Copyright (C</span><span class="z-meta z-function-call z-shell"></span>) <span class="z-meta z-function-call z-shell"><span class="z-variable z-function z-shell">1994-2023</span></span><span class="z-meta z-function-call z-arguments z-shell"> Lua.org, PUC-Rio</span>
</span><span class="z-source z-shell z-bash"><span class="z-keyword z-operator z-assignment z-redirection z-shell">&gt;</span> arr <span class="z-keyword z-operator z-assignment z-shell">=</span> <span class="z-meta z-function-call z-shell"><span class="z-variable z-function z-shell">{<span class="z-string z-quoted z-double z-shell"><span class="z-punctuation z-definition z-string z-begin z-shell">&quot;</span>TOM<span class="z-punctuation z-definition z-string z-end z-shell">&quot;</span></span>,<span class="z-string z-quoted z-double z-shell"><span class="z-punctuation z-definition z-string z-begin z-shell">&quot;</span>JERRY<span class="z-punctuation z-definition z-string z-end z-shell">&quot;</span></span>,<span class="z-string z-quoted z-double z-shell"><span class="z-punctuation z-definition z-string z-begin z-shell">&quot;</span>ROSES<span class="z-punctuation z-definition z-string z-end z-shell">&quot;</span></span>,x</span></span><span class="z-meta z-function-call z-arguments z-shell">=<span class="z-string z-quoted z-double z-shell"><span class="z-punctuation z-definition z-string z-begin z-shell">&quot;</span>JACK<span class="z-punctuation z-definition z-string z-end z-shell">&quot;</span></span>,<span class="z-string z-quoted z-double z-shell"><span class="z-punctuation z-definition z-string z-begin z-shell">&quot;</span>LUCY<span class="z-punctuation z-definition z-string z-end z-shell">&quot;</span></span></span><span class="z-meta z-function-call z-shell"></span>}
</span><span class="z-source z-shell z-bash"><span class="z-keyword z-operator z-assignment z-redirection z-shell">&gt;</span> function <span class="z-meta z-function-call z-shell"><span class="z-variable z-function z-shell">testfor</span></span><span class="z-meta z-function-call z-arguments z-shell">(arr</span><span class="z-meta z-function-call z-shell"></span>)
</span><span class="z-source z-shell z-bash"><span class="z-keyword z-operator z-assignment z-redirection z-shell">&gt;&gt;</span> for <span class="z-meta z-function-call z-shell"><span class="z-variable z-function z-shell">i,v</span></span><span class="z-meta z-function-call z-arguments z-shell"> in pairs(arr</span><span class="z-meta z-function-call z-shell"></span>) <span class="z-keyword z-control z-loop z-do z-shell">do</span> 
</span><span class="z-source z-shell z-bash"><span class="z-keyword z-operator z-assignment z-redirection z-shell">&gt;&gt;</span> print<span class="z-punctuation z-definition z-compound z-begin z-shell">(</span><span class="z-meta z-function-call z-shell"><span class="z-variable z-function z-shell">i,v</span></span><span class="z-punctuation z-definition z-compound z-end z-shell">)</span>
</span><span class="z-source z-shell z-bash"><span class="z-keyword z-operator z-assignment z-redirection z-shell">&gt;&gt;</span> end
</span><span class="z-source z-shell z-bash"><span class="z-keyword z-operator z-assignment z-redirection z-shell">&gt;&gt;</span> end
</span><span class="z-source z-shell z-bash"><span class="z-keyword z-operator z-assignment z-redirection z-shell">&gt;</span> testfor<span class="z-punctuation z-definition z-compound z-begin z-shell">(</span><span class="z-meta z-function-call z-shell"><span class="z-variable z-function z-shell">arr</span></span><span class="z-punctuation z-definition z-compound z-end z-shell">)</span>
</span><span class="z-source z-shell z-bash"><span class="z-meta z-function-call z-shell"><span class="z-variable z-function z-shell">1</span></span><span class="z-meta z-function-call z-arguments z-shell">	TOM</span>
</span><span class="z-source z-shell z-bash"><span class="z-meta z-function-call z-shell"><span class="z-variable z-function z-shell">2</span></span><span class="z-meta z-function-call z-arguments z-shell">	JERRY</span>
</span><span class="z-source z-shell z-bash"><span class="z-meta z-function-call z-shell"><span class="z-variable z-function z-shell">3</span></span><span class="z-meta z-function-call z-arguments z-shell">	ROSES</span>
</span><span class="z-source z-shell z-bash"><span class="z-meta z-function-call z-shell"><span class="z-variable z-function z-shell">4</span></span><span class="z-meta z-function-call z-arguments z-shell">	LUCY</span>
</span><span class="z-source z-shell z-bash"><span class="z-meta z-function-call z-shell"><span class="z-variable z-function z-shell">x</span></span><span class="z-meta z-function-call z-arguments z-shell">	JACK</span>
</span></code></pre>

        </section>
        
        

        
            
            
            

            
        
            
            
            

            
        
            
            
            

            
        
            
            
            

            
        
        </article>
</main>

    <div id="button-container">
        
        
            <div id="toc-floating-container">
                <input type="checkbox" id="toc-toggle" class="toggle"/>
                <label for="toc-toggle" id="toc-button" class="button" title="Toggle Table of Contents">
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 -960 960 960"><path d="M414.82-193.094q-18.044 0-30.497-12.32-12.453-12.319-12.453-30.036t12.453-30.086q12.453-12.37 30.497-12.37h392.767q17.237 0 29.927 12.487 12.69 12.486 12.69 30.203 0 17.716-12.69 29.919t-29.927 12.203H414.82Zm0-244.833q-18.044 0-30.497-12.487Q371.87-462.9 371.87-480.45t12.453-29.92q12.453-12.369 30.497-12.369h392.767q17.237 0 29.927 12.511 12.69 12.512 12.69 29.845 0 17.716-12.69 30.086-12.69 12.37-29.927 12.37H414.82Zm0-245.167q-18.044 0-30.497-12.32t-12.453-30.037q0-17.716 12.453-30.086 12.453-12.369 30.497-12.369h392.767q17.237 0 29.927 12.486 12.69 12.487 12.69 30.203 0 17.717-12.69 29.92-12.69 12.203-29.927 12.203H414.82ZM189.379-156.681q-32.652 0-55.878-22.829t-23.226-55.731q0-32.549 23.15-55.647 23.151-23.097 55.95-23.097 32.799 0 55.313 23.484 22.515 23.484 22.515 56.246 0 32.212-22.861 54.893-22.861 22.681-54.963 22.681Zm0-245.167q-32.652 0-55.878-23.134-23.226-23.135-23.226-55.623 0-32.487 23.467-55.517t56.12-23.03q32.102 0 54.721 23.288 22.62 23.288 22.62 55.775 0 32.488-22.861 55.364-22.861 22.877-54.963 22.877Zm-.82-244.833q-32.224 0-55.254-23.288-23.03-23.289-23.03-55.623 0-32.333 23.271-55.364 23.272-23.03 55.495-23.03 32.224 0 55.193 23.288 22.969 23.289 22.969 55.622 0 32.334-23.21 55.364-23.21 23.031-55.434 23.031Z"/></svg>
                </label>
                <div class="toc-content">
                    

<div class="toc-container">
    

    <ul>
        
            
            
                <li><a href="https://synex.space/blog/luaji-chu-yu-fa-xue-xi/#lua">Lua</a>
                    
                        <ul>
                            
                                
                                    <li><a href="https://synex.space/blog/luaji-chu-yu-fa-xue-xi/#gai-nian">概念</a>
                                        
                                    </li>
                                
                            
                                
                                    <li><a href="https://synex.space/blog/luaji-chu-yu-fa-xue-xi/#te-xing">特性</a>
                                        
                                    </li>
                                
                            
                                
                                    <li><a href="https://synex.space/blog/luaji-chu-yu-fa-xue-xi/#ying-yong-chang-jing">应用场景</a>
                                        
                                    </li>
                                
                            
                                
                                    <li><a href="https://synex.space/blog/luaji-chu-yu-fa-xue-xi/#an-zhuang">安装</a>
                                        
                                    </li>
                                
                            
                                
                                    <li><a href="https://synex.space/blog/luaji-chu-yu-fa-xue-xi/#yu-fa">语法</a>
                                        
                                            <ul>
                                                
                                                    
                                                        <li><a href="https://synex.space/blog/luaji-chu-yu-fa-xue-xi/#jiao-hu-shi-helloworld">交互式HelloWorld</a>
                                                            
                                                        </li>
                                                    
                                                
                                                    
                                                        <li><a href="https://synex.space/blog/luaji-chu-yu-fa-xue-xi/#jiao-ben-shi-helloworld">脚本式HelloWorld</a>
                                                            
                                                        </li>
                                                    
                                                
                                                    
                                                        <li><a href="https://synex.space/blog/luaji-chu-yu-fa-xue-xi/#zhu-shi">注释</a>
                                                            
                                                        </li>
                                                    
                                                
                                                    
                                                        <li><a href="https://synex.space/blog/luaji-chu-yu-fa-xue-xi/#biao-shi-fu">标识符</a>
                                                            
                                                        </li>
                                                    
                                                
                                                    
                                                        <li><a href="https://synex.space/blog/luaji-chu-yu-fa-xue-xi/#guan-jian-zi">关键字</a>
                                                            
                                                        </li>
                                                    
                                                
                                                    
                                                        <li><a href="https://synex.space/blog/luaji-chu-yu-fa-xue-xi/#yun-suan-fu">运算符</a>
                                                            
                                                        </li>
                                                    
                                                
                                                    
                                                        <li><a href="https://synex.space/blog/luaji-chu-yu-fa-xue-xi/#quan-ju-bian-liang-ju-bu-bian-liang">全局变量&amp;局部变量</a>
                                                            
                                                        </li>
                                                    
                                                
                                                    
                                                        <li><a href="https://synex.space/blog/luaji-chu-yu-fa-xue-xi/#shu-ju-lei-xing">数据类型</a>
                                                            
                                                        </li>
                                                    
                                                
                                                    
                                                        <li><a href="https://synex.space/blog/luaji-chu-yu-fa-xue-xi/#kong-zhi-jie-gou">控制结构</a>
                                                            
                                                        </li>
                                                    
                                                
                                            </ul>
                                        
                                    </li>
                                
                            
                        </ul>
                    
                </li>
            
        
    </ul>
</div>


                </div>
            </div>
        

        
        

        
        <a href="#" id="top-button" class="no-hover-padding" title="Go to the top of the page">
            <svg viewBox="0 0 20 20" fill="currentColor"><path d="M3.293 9.707a1 1 0 010-1.414l6-6a1 1 0 011.414 0l6 6a1 1 0 01-1.414 1.414L11 5.414V17a1 1 0 11-2 0V5.414L4.707 9.707a1 1 0 01-1.414 0z"/></svg>
        </a>
    </div>


<span id="copy-success" class="hidden">
        Copied!
    </span>
    <span id="copy-init" class="hidden">
        Copy code to clipboard
    </span>
    <script defer src="https://synex.space/js/copyCodeToClipboard.min.js"></script>


    </div>
    <footer>
    <section>
        <nav class="socials nav-navs">
        </nav>

        
        <nav class="nav-navs">
        </nav>

        <div class="credits">
            <small>
                

                
                Powered by
                <a rel="" 

 href="https://www.getzola.org">Zola</a>
                &amp;
                <a rel="" 

 href="https://github.com/welpo/tabi">tabi</a>

                </small>
        </div>
    </section>

    <div id="searchModal" class="search-modal js" role="dialog" aria-labelledby="modalTitle">
    <h1 id="modalTitle" class="visually-hidden">Search</h1>
    <div id="modal-content">
        <div id="searchBar">
            <div class="search-icon" aria-hidden="true">
                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 -960 960 960">
                    <path d="M784-120 532-372q-30 24-69 38t-83 14q-109 0-184.5-75.5T120-580q0-109 75.5-184.5T380-840q109 0 184.5 75.5T640-580q0 44-14 83t-38 69l252 252-56 56ZM380-400q75 0 127.5-52.5T560-580q0-75-52.5-127.5T380-760q-75 0-127.5 52.5T200-580q0 75 52.5 127.5T380-400Z"/>
                </svg>
            </div>
            <input id="searchInput" role="combobox" autocomplete="off" spellcheck="false" aria-expanded="false" aria-controls="results-container" placeholder="Search…"/>
            <div id="clear-search" class="close-icon interactive-icon" tabindex="0" role="button" title="Clear search">
                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 -960 960 960">
                <path d="m256-200-56-56 224-224-224-224 56-56 224 224 224-224 56 56-224 224 224 224-56 56-224-224-224 224Z"/>
                </svg>
            </div>
        </div>
        <div id="results-container">
            <div id="results-info"><span id="zero_results"> No results</span>
                <span id="one_results"> $NUMBER result</span>
                <span id="many_results"> $NUMBER results</span><span id="two_results"> $NUMBER results</span>
                <span id="few_results"> $NUMBER results</span>
            </div>
            <div id="results" role="listbox"></div>
        </div>
    </div>
</div>
</footer>


    
    
</body>

</html>
